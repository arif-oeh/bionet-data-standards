/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/nsw-design-system@3.17.1/dist/js/main.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("NSW",["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).NSW={})}(this,(function(t){"use strict";let e;const s=new Uint8Array(16);function i(){if(!e&&(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(s)}const n=[];for(let t=0;t<256;++t)n.push((t+256).toString(16).slice(1));var o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function a(t,e,s){if(o.randomUUID&&!e&&!t)return o.randomUUID();const a=(t=t||{}).random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){s=s||0;for(let t=0;t<16;++t)e[s+t]=a[t];return e}return function(t,e=0){return(n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]).toLowerCase()}(a)}const l=t=>`${void 0===t?"nsw":t}-${a()}`,r=(t,e)=>{const s=[];for(let i=0;i<e.length;i+=1)s.push([].slice.call(document.querySelectorAll(`#${t} ${e[i]}`)));const i=[].concat(...s);return{all:n=i,first:n[0],last:n[n.length-1],length:n.length};var n},h=(t,e)=>{const{activeElement:s}=document,i=e;return 9===t.keyCode&&(1===i.length?t.preventDefault():t.shiftKey&&s===i.first?(i.last.focus(),t.preventDefault()):t.shiftKey||s!==i.last||(i.first.focus(),t.preventDefault()),!0)};class c{constructor(t){this.element=t;const[e,s]=Array.from(this.element.querySelectorAll(".nsw-accordion__toggle button"));this.accordionHeadingClass=".nsw-accordion__title",this.headings=this.element.querySelectorAll(this.accordionHeadingClass),this.expandAllBtn=e,this.collapseAllBtn=s,this.isExpandedOnLoad=this.element.querySelectorAll(".nsw-accordion__open"),this.buttons=[],this.content=[],this.toggleEvent=t=>this.toggle(t),this.expandAllEvent=t=>this.expandAll(t),this.collapseAllEvent=t=>this.collapseAll(t)}init(){this.setUpDom(),this.controls()}setUpDom(){this.element.classList.add("ready"),this.collapseAllBtn&&(this.collapseAllBtn.disabled=!0),this.headings.forEach((t=>{const e=t,s=t.nextElementSibling,i=function(t){let{textContent:e}=t;const s=document.createDocumentFragment(),i=document.createElement("button"),n=l("accordion");return i.textContent=e,i.setAttribute("type","button"),i.setAttribute("aria-expanded","false"),i.setAttribute("aria-controls",n),i.classList.add("nsw-accordion__button"),i.insertAdjacentHTML("beforeend",'\n  <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">keyboard_arrow_down</span>\n  '),s.appendChild(i),s}(t);e.textContent="",e.appendChild(i);const n=e.getElementsByTagName("button")[0];s&&(s.id=n.getAttribute("aria-controls"),s.hidden="until-found",this.content.push(s)),this.buttons.push(n)})),this.isExpandedOnLoad&&this.isExpandedOnLoad.forEach((t=>{const e=t.querySelector("button");this.setAccordionState(e,"open")}))}controls(){this.buttons.forEach((t=>{t.addEventListener("click",this.toggleEvent,!1),t.addEventListener("beforematch",this.toggleEvent,!1)})),this.expandAllBtn&&this.collapseAllBtn&&(this.expandAllBtn.addEventListener("click",this.expandAllEvent,!1),this.collapseAllBtn.addEventListener("click",this.collapseAllEvent,!1))}getTargetContent(t){const e=this.buttons.indexOf(t);return this.content[e]}setAccordionState(t,e){const s=this.getTargetContent(t);"open"===e?(t.classList.add("active"),t.setAttribute("aria-expanded","true"),s.hidden=!1):"close"===e&&(t.classList.remove("active"),t.setAttribute("aria-expanded","false"),s.hidden="until-found")}toggle(t){const{currentTarget:e}=t,s=this.getTargetContent(e);if(s){const t=s.hidden;!0===t||"until-found"===t?this.setAccordionState(e,"open"):this.setAccordionState(e,"close"),this.expandAllBtn&&this.collapseAllBtn&&(this.expandAllBtn.disabled=this.content.every((t=>!1===t.hidden)),this.collapseAllBtn.disabled=this.content.every((t=>"until-found"===t.hidden)))}}expandAll(){this.buttons.forEach((t=>{this.setAccordionState(t,"open")})),this.expandAllBtn.disabled=!0,this.collapseAllBtn.disabled=!1}collapseAll(){this.buttons.forEach((t=>{this.setAccordionState(t,"close")})),this.expandAllBtn.disabled=!1,this.collapseAllBtn.disabled=!0}}class d{constructor(t){this.element=t,this.dataElement=this.element.getAttribute("data-element"),this.scrollOffset=this.element.getAttribute("data-offset"),this.text=!1,this.icon=!1,this.scrollElement=this.dataElement?document.querySelector(this.dataElement):window,this.scrollPosition=0,this.width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),this.condition=!1}init(){this.createButton(),this.element.addEventListener("click",(t=>{t.preventDefault(),window.requestAnimationFrame?this.dataElement?this.scrollElement.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"}):this.scrollElement.scrollTo(0,0)})),this.checkBackToTop();const t=this.debounce(this.checkBackToTop);this.scrollElement.addEventListener("scroll",(()=>{t()}));const e=this.debounce(this.resizeHandler);window.addEventListener("resize",(()=>{e()}))}createButton(){const t=this.constructor.createElement("span"),e=this.constructor.createElement("span",["material-icons","nsw-material-icons"],{title:"Back to top",focusable:"false","aria-hidden":"true"});this.element.append(t,e),this.text=this.element.querySelector("span:not(.material-icons)"),this.icon=this.element.querySelector("span.material-icons"),this.createButtonContent()}createButtonContent(){this.width<768?(this.text.innerText="Top",this.icon.innerText="keyboard_arrow_up"):(this.text.innerText="Back to top",this.icon.innerText="north")}checkBackToTop(){let t=this.scrollElement.scrollTop||document.documentElement.scrollTop;this.dataElement||(t=window.scrollY||document.documentElement.scrollTop);const e=this.scrollPosition;this.scrollPosition=window.scrollY,this.scrollOffset&&this.scrollOffset>0?(this.condition=t>=this.scrollOffset,this.element.classList.toggle("active",this.condition)):(this.condition=e>this.scrollPosition&&this.scrollPosition>200,this.element.classList.toggle("active",this.condition))}resizeHandler(){const t=this.width,e=this.height;this.width=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),this.height=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),t!==this.width&&e===this.height&&this.createButtonContent()}debounce(t){var e=this;let s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;return function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];const l=e;window.requestAnimationFrame?(s&&window.cancelAnimationFrame(s),s=window.requestAnimationFrame((()=>{t.apply(l,o)}))):(clearTimeout(s),s=setTimeout((()=>t.apply(l,o)),i))}}static createElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createElement(t);return e.length>0&&i.classList.add(...e),Object.entries(s).forEach((t=>{let[e,s]=t;i.setAttribute(e,s)})),i}}class u{constructor(t){this.element=t,this.prefix="nsw-",this.class="date-picker",this.uID=l("calendar-label"),this.dateClass=`${this.prefix}${this.class}__date`,this.todayClass=`${this.dateClass}--today`,this.selectedClass=`${this.dateClass}--selected`,this.keyboardFocusClass=`${this.dateClass}--keyboard-focus`,this.visibleClass=`${this.prefix}${this.class}--is-visible`,this.months=this.element.getAttribute("data-months")?this.element.getAttribute("data-months"):["January","February","March","April","May","June","July","August","September","October","November","December"],this.dateFormat=this.element.getAttribute("data-date-format")?this.element.getAttribute("data-date-format"):"d-m-y",this.dateSeparator=this.element.getAttribute("data-date-separator")?this.element.getAttribute("data-date-separator"):"/",this.datesDisabled=this.element.getAttribute("data-dates-disabled")?this.element.getAttribute("data-dates-disabled"):"",this.minDate=this.element.getAttribute("data-min-date")?this.element.getAttribute("data-min-date"):"",this.maxDate=this.element.getAttribute("data-max-date")?this.element.getAttribute("data-max-date"):"",this.input=this.element.querySelector(".js-date-input__text"),this.trigger=this.element.querySelector(".js-date-input__trigger"),this.triggerLabel=this.trigger&&this.trigger.getAttribute("aria-label")?this.trigger.getAttribute("aria-label"):"Select a date",this.datePicker=this.element.querySelector(".js-date-picker"),this.body=this.datePicker&&this.datePicker.querySelector(".js-date-picker__dates"),this.navigation=this.datePicker&&this.datePicker.querySelector(".js-date-picker__title-nav"),this.heading=this.datePicker&&this.datePicker.querySelector(".js-date-picker__title-label"),this.close=this.datePicker&&this.datePicker.querySelector(".js-date-picker__close"),this.accept=this.datePicker&&this.datePicker.querySelector(".js-date-picker__accept"),this.multipleInput=this.element.querySelector(".js-date-input-multiple"),this.dateInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-date"),this.monthInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-month"),this.yearInput=this.multipleInput&&this.multipleInput.querySelector(".js-date-picker-year"),this.multiDateArray=[this.dateInput,this.monthInput,this.yearInput],this.dateIndexes=this.getDateIndexes(),this.pickerVisible=!1,this.dateSelected=!1,this.selectedDay=!1,this.selectedMonth=!1,this.selectedYear=!1,this.firstFocusable=!1,this.lastFocusable=!1,this.disabledArray=!1}init(){(this.input||this.multipleInput)&&(this.datePicker||this.initCreateCalendar(),this.disabledDates(),this.resetCalendar(),this.initCalendarAria(),this.initCalendarEvents(),this.placeCalendar())}initCreateCalendar(){const t=`\n    <div class="nsw-date-picker js-date-picker" role="dialog" aria-labelledby="${this.uID}">\n      <header class="nsw-date-picker__header">\n        <div class="nsw-date-picker__title">\n          <span class="nsw-date-picker__title-label js-date-picker__title-label" id="${this.uID}"></span>\n\n          <nav>\n            <ul class="nsw-date-picker__title-nav js-date-picker__title-nav">\n              <li>\n                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__year-nav-btn js-date-picker__year-nav-btn--prev" type="button">\n                  <span class="material-icons nsw-material-icons">keyboard_double_arrow_left</span>\n                </button>\n                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__month-nav-btn js-date-picker__month-nav-btn--prev" type="button">\n                  <span class="material-icons nsw-material-icons">chevron_left</span>\n                </button>\n              </li>\n\n              <li>\n                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__month-nav-btn js-date-picker__month-nav-btn--next" type="button">\n                  <span class="material-icons nsw-material-icons">chevron_right</span>\n                </button>\n                <button class="nsw-icon-button nsw-date-picker__title-nav-btn js-date-picker__year-nav-btn js-date-picker__year-nav-btn--next" type="button">\n                  <span class="material-icons nsw-material-icons">keyboard_double_arrow_right</span>\n                </button>\n              </li>\n            </ul>\n          </nav>\n        </div>\n\n        <ol class="nsw-date-picker__week">\n          <li><div class="nsw-date-picker__day">M<span class="sr-only">onday</span></div></li>\n          <li><div class="nsw-date-picker__day">T<span class="sr-only">uesday</span></div></li>\n          <li><div class="nsw-date-picker__day">W<span class="sr-only">ednesday</span></div></li>\n          <li><div class="nsw-date-picker__day">T<span class="sr-only">hursday</span></div></li>\n          <li><div class="nsw-date-picker__day">F<span class="sr-only">riday</span></div></li>\n          <li><div class="nsw-date-picker__day">S<span class="sr-only">aturday</span></div></li>\n          <li><div class="nsw-date-picker__day">S<span class="sr-only">unday</span></div></li>\n        </ol>\n      </header>\n\n      <ol class="nsw-date-picker__dates js-date-picker__dates" aria-labelledby="${this.uID}">\n        \n      </ol>\n\n      <div class="nsw-date-picker__buttongroup">\n        <button type="button" class="nsw-button nsw-button--dark-outline-solid js-date-picker__close" value="cancel">Cancel</button>\n        <button type="button" class="nsw-button nsw-button--dark js-date-picker__accept" value="ok">OK</button>\n      </div>\n    </div>`;this.element.insertAdjacentHTML("beforeend",t),this.datePicker=this.element.querySelector(".js-date-picker"),this.body=this.datePicker.querySelector(".js-date-picker__dates"),this.navigation=this.datePicker.querySelector(".js-date-picker__title-nav"),this.heading=this.datePicker.querySelector(".js-date-picker__title-label"),this.close=this.datePicker.querySelector(".js-date-picker__close"),this.accept=this.datePicker.querySelector(".js-date-picker__accept")}initCalendarAria(){this.resetLabelCalendarTrigger();const t=document.createElement("div");t.setAttribute("aria-live","polite"),t.classList.add("sr-only","js-date-input__sr-live"),this.element.appendChild(t),this.srLiveReagion=this.element.querySelector(".js-date-input__sr-live")}initCalendarEvents(){this.input&&this.input.addEventListener("focus",(()=>{this.toggleCalendar(!0)})),this.multipleInput&&this.multiDateArray.forEach((t=>{t.addEventListener("focus",(()=>{this.hideCalendar()}))})),this.trigger&&this.trigger.addEventListener("click",(t=>{t.preventDefault(),this.pickerVisible=!1,this.toggleCalendar(),this.trigger.setAttribute("aria-expanded","true")})),this.close&&this.close.addEventListener("click",(t=>{t.preventDefault(),this.hideCalendar()})),this.accept&&this.accept.addEventListener("click",(t=>{t.preventDefault();const e=this.body.querySelector('button[tabindex="0"]');e&&(this.dateSelected=!0,this.selectedDay=e.innerText,this.selectedMonth=this.currentMonth,this.selectedYear=this.currentYear,this.setInputValue(),this.input?this.input.focus():this.multipleInput&&(this.trigger.focus(),this.hideCalendar()),this.resetLabelCalendarTrigger())})),this.body.addEventListener("click",(t=>{t.preventDefault();const e=t.target.closest("button");e&&(this.dateSelected=!0,this.selectedDay=e.innerText,this.selectedMonth=this.currentMonth,this.selectedYear=this.currentYear,this.setInputValue(),this.input?this.input.focus():this.multipleInput&&(this.trigger.focus(),this.hideCalendar()),this.resetLabelCalendarTrigger())})),this.navigation.addEventListener("click",(t=>{t.preventDefault();const e=t.target.closest(".js-date-picker__month-nav-btn"),s=t.target.closest(".js-date-picker__year-nav-btn");e&&e.classList.contains("js-date-picker__month-nav-btn--prev")?this.showPrevMonth(!0):e&&e.classList.contains("js-date-picker__month-nav-btn--next")?this.showNextMonth(!0):s&&s.classList.contains("js-date-picker__year-nav-btn--prev")?this.showPrevYear(!0):s&&s.classList.contains("js-date-picker__year-nav-btn--next")&&this.showNextYear(!0)})),window.addEventListener("keydown",(t=>{if(t.code&&27===t.code||t.key&&"escape"===t.key.toLowerCase())if(document.activeElement.closest(".js-date-picker")){document.activeElement.closest(".js-date-input").querySelector("input").focus()}else this.hideCalendar()})),window.addEventListener("click",(t=>{t.target.closest(".js-date-picker")||t.target.closest(".js-date-input")||!this.pickerVisible||this.hideCalendar()})),this.body.addEventListener("keydown",(t=>{let e=this.currentDay;t.code&&40===t.code||t.key&&"arrowdown"===t.key.toLowerCase()?(e+=7,this.resetDayValue(e)):t.code&&39===t.code||t.key&&"arrowright"===t.key.toLowerCase()?(e+=1,this.resetDayValue(e)):t.code&&37===t.code||t.key&&"arrowleft"===t.key.toLowerCase()?(e-=1,this.resetDayValue(e)):t.code&&38===t.code||t.key&&"arrowup"===t.key.toLowerCase()?(e-=7,this.resetDayValue(e)):t.code&&35===t.code||t.key&&"end"===t.key.toLowerCase()?(t.preventDefault(),e=e+6-this.getDayOfWeek(this.currentYear,this.currentMonth,e),this.resetDayValue(e)):t.code&&36===t.code||t.key&&"home"===t.key.toLowerCase()?(t.preventDefault(),e-=this.getDayOfWeek(this.currentYear,this.currentMonth,e),this.resetDayValue(e)):t.code&&34===t.code||t.key&&"pagedown"===t.key.toLowerCase()?(t.preventDefault(),this.showNextMonth()):(t.code&&33===t.code||t.key&&"pageup"===t.key.toLowerCase())&&(t.preventDefault(),this.showPrevMonth())})),this.datePicker.addEventListener("keydown",(t=>{(t.code&&9===t.code||t.key&&"Tab"===t.key)&&this.trapFocus(t)})),this.input&&this.input.addEventListener("keydown",(t=>{t.code&&13===t.code||t.key&&"enter"===t.key.toLowerCase()?(this.resetCalendar(),this.resetLabelCalendarTrigger(),this.hideCalendar()):(t.code&&40===t.code||t.key&&"arrowdown"===t.key.toLowerCase()&&this.pickerVisible)&&this.body.querySelector('button[tabindex="0"]').focus()})),this.multipleInput&&this.multiDateArray.forEach((t=>{t.addEventListener("keydown",(t=>{t.code&&13===t.code||t.key&&"enter"===t.key.toLowerCase()?(this.resetCalendar(),this.resetLabelCalendarTrigger(),this.hideCalendar()):(t.code&&40===t.code||t.key&&"arrowdown"===t.key.toLowerCase()&&this.pickerVisible)&&this.body.querySelector('button[tabindex="0"]').focus()}))}))}getCurrentDay(t){return t?this.getDayFromDate(t):(new Date).getDate()}getCurrentMonth(t){return t?this.getMonthFromDate(t):(new Date).getMonth()}getCurrentYear(t){return t?this.getYearFromDate(t):(new Date).getFullYear()}getDayFromDate(t){const e=parseInt(t.split("-")[2],10);return Number.isNaN(e)?this.getCurrentDay(!1):e}getMonthFromDate(t){const e=parseInt(t.split("-")[1],10)-1;return Number.isNaN(e)?this.getCurrentMonth(!1):e}getYearFromDate(t){const e=parseInt(t.split("-")[0],10);return Number.isNaN(e)?this.getCurrentYear(!1):e}showNextMonth(t){this.currentYear=11===this.currentMonth?this.currentYear+1:this.currentYear,this.currentMonth=(this.currentMonth+1)%12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showPrevMonth(t){this.currentYear=0===this.currentMonth?this.currentYear-1:this.currentYear,this.currentMonth=0===this.currentMonth?11:this.currentMonth-1,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showNextYear(t){this.currentYear+=1,this.currentMonth%=12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}showPrevYear(t){this.currentYear-=1,this.currentMonth%=12,this.currentDay=this.checkDayInMonth(),this.showCalendar(t),this.srLiveReagion.textContent=`${this.months[this.currentMonth]} ${this.currentYear}`}checkDayInMonth(){return this.currentDay>this.constructor.daysInMonth(this.currentYear,this.currentMonth)?1:this.currentDay}static daysInMonth(t,e){return 32-new Date(t,e,32).getDate()}resetCalendar(){let t,e=!1;if(this.input?t=this.input.value:this.multipleInput&&(t=""!==this.dateInput.value&&""!==this.monthInput.value&&""!==this.yearInput.value?`${this.dateInput.value}/${this.monthInput.value}/${this.yearInput.value}`:""),this.dateSelected=!1,""!==t){const t=this.getDateFromInput();this.dateSelected=!0,e=t}this.currentDay=this.getCurrentDay(e),this.currentMonth=this.getCurrentMonth(e),this.currentYear=this.getCurrentYear(e),this.selectedDay=!!this.dateSelected&&this.currentDay,this.selectedMonth=!!this.dateSelected&&this.currentMonth,this.selectedYear=!!this.dateSelected&&this.currentYear}disabledDates(){if(this.disabledArray=[],this.datesDisabled){this.datesDisabled.split(" ").forEach((t=>{this.disabledArray.push(t)}))}}convertDateToParse(t){const e=t.split(this.dateSeparator);return`${e[this.dateIndexes[2]]}, ${e[this.dateIndexes[1]]}, ${e[this.dateIndexes[0]]}`}isDisabledDate(t,e,s){let i=!1;const n=new Date(s,e,t),o=new Date(this.convertDateToParse(this.minDate)),a=new Date(this.convertDateToParse(this.maxDate));return this.minDate&&o>n&&(i=!0),this.maxDate&&a<n&&(i=!0),this.disabledArray.length>0&&this.disabledArray.forEach((t=>{const e=new Date(this.convertDateToParse(t));n.getTime()===e.getTime()&&(i=!0)})),i}showCalendar(t){const e=this.constructor.getDayOfWeek(this.currentYear,this.currentMonth,"01");this.body.innerHTML="",this.heading.innerHTML=`${this.months[this.currentMonth]} ${this.currentYear}`;let s=1,i="";for(let t=0;t<6;t+=1)for(let n=0;n<7;n+=1)if(0===t&&n<e)i+="<li></li>";else{if(s>this.constructor.daysInMonth(this.currentYear,this.currentMonth))break;{let t,e="",n="-1";s===this.currentDay&&(n="0"),this.getCurrentMonth()===this.currentMonth&&this.getCurrentYear()===this.currentYear&&s===this.getCurrentDay()&&(e+=` ${this.todayClass}`),this.isDisabledDate(s,this.currentMonth,this.currentYear)&&(e+=` ${this.dateClass}--disabled`,t='aria-disabled="true"'),this.dateSelected&&s===this.selectedDay&&this.currentYear===this.selectedYear&&this.currentMonth===this.selectedMonth&&(e+=` ${this.selectedClass}`),i=`${i}<li><button class="${this.dateClass}${e}" tabindex="${n}" type="button" ${t||""}>${s}</button></li>`,s+=1}}this.body.innerHTML=i,this.pickerVisible||this.datePicker.classList.add(this.visibleClass),this.pickerVisible=!0,t||this.body.querySelector('button[tabindex="0"]').focus(),this.getFocusableElements(),this.placeCalendar()}hideCalendar(){this.datePicker.classList.remove(this.visibleClass),this.pickerVisible=!1,this.firstFocusable=!1,this.lastFocusable=!1,this.trigger&&this.trigger.setAttribute("aria-expanded","false")}toggleCalendar(t){this.pickerVisible?this.hideCalendar():(this.resetCalendar(),this.showCalendar(t))}static getDayOfWeek(t,e,s){let i=new Date(t,e,s).getDay()-1;return i<0&&(i=6),i}getDateIndexes(){const t=this.dateFormat.toLowerCase().replace(/-/g,"");return[t.indexOf("d"),t.indexOf("m"),t.indexOf("y")]}setInputValue(){this.input?this.input.value=this.getDateForInput(this.selectedDay,this.selectedMonth,this.selectedYear):this.multipleInput&&(this.dateInput.value=this.constructor.getReadableDate(this.selectedDay),this.monthInput.value=this.constructor.getReadableDate(this.selectedMonth+1),this.yearInput.value=this.selectedYear)}getDateForInput(t,e,s){const i=[];return i[this.dateIndexes[0]]=this.constructor.getReadableDate(t),i[this.dateIndexes[1]]=this.constructor.getReadableDate(e+1),i[this.dateIndexes[2]]=s,i[0]+this.dateSeparator+i[1]+this.dateSeparator+i[2]}getDateFromInput(){let t;return this.input?t=this.input.value.split(this.dateSeparator):this.multipleInput&&(t=[this.dateInput.value,this.monthInput.value,this.yearInput.value]),`${t[this.dateIndexes[2]]}-${t[this.dateIndexes[1]]}-${t[this.dateIndexes[0]]}`}static getReadableDate(t){return t<10?`0${t}`:t}resetDayValue(t){const e=this.constructor.daysInMonth(this.currentYear,this.currentMonth);if(t>e)this.currentDay=t-e,this.showNextMonth(!1);else if(t<1){const e=0===this.currentMonth?11:this.currentMonth-1;this.currentDay=this.constructor.daysInMonth(this.currentYear,e)+t,this.showPrevMonth(!1)}else{this.currentDay=t;const e=this.body.querySelector('button[tabindex="0"]');e.setAttribute("tabindex","-1"),e.classList.remove(this.keyboardFocusClass);const s=this.body.getElementsByTagName("button");for(let t=0;t<s.length;t+=1)if(parseInt(s[t].textContent,10)===this.currentDay){s[t].setAttribute("tabindex","0"),s[t].classList.add(this.keyboardFocusClass),s[t].focus();break}this.getFocusableElements()}}resetLabelCalendarTrigger(){this.trigger&&(this.selectedYear&&!1!==this.selectedMonth&&this.selectedDay?this.trigger.setAttribute("aria-label",`Selected date is ${new Date(this.selectedYear,this.selectedMonth,this.selectedDay).toDateString()}`):this.trigger.setAttribute("aria-label",this.triggerLabel))}getFocusableElements(){const t=this.datePicker.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstFocusable(t),this.getLastFocusable(t)}getFirstFocusable(t){for(let e=0;e<t.length;e+=1)if((t[e].offsetWidth||t[e].offsetHeight||t[e].getClientRects().length)&&"-1"!==t[e].getAttribute("tabindex"))return this.firstFocusable=t[e],!0;return!1}getLastFocusable(t){for(let e=t.length-1;e>=0;e-=1)if((t[e].offsetWidth||t[e].offsetHeight||t[e].getClientRects().length)&&"-1"!==t[e].getAttribute("tabindex"))return this.lastFocusable=t[e],!0;return!1}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!==document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())}placeCalendar(){this.datePicker.style.left="0px",this.datePicker.style.right="auto";this.datePicker.getBoundingClientRect().right>window.innerWidth&&(this.datePicker.style.left="auto",this.datePicker.style.right="0px")}}function p(t){return Math.sign?Math.sign(t):(t>0)-(t<0)||+t}class m{constructor(t){this.element=t,this.delta=[!1,!1],this.dragging=!1,this.intervalId=!1,this.changedTouches=!1}init(){this.element.addEventListener("mousedown",this.handleEvent.bind(this)),this.element.addEventListener("touchstart",this.handleEvent.bind(this),{passive:!0})}initDragging(){this.element.addEventListener("mousemove",this.handleEvent.bind(this)),this.element.addEventListener("touchmove",this.handleEvent.bind(this),{passive:!0}),this.element.addEventListener("mouseup",this.handleEvent.bind(this)),this.element.addEventListener("mouseleave",this.handleEvent.bind(this)),this.element.addEventListener("touchend",this.handleEvent.bind(this))}cancelDragging(){this.intervalId&&(window.requestAnimationFrame?window.cancelAnimationFrame(this.intervalId):clearInterval(this.intervalId),this.intervalId=!1),this.element.removeEventListener("mousemove",this.handleEvent.bind(this)),this.element.removeEventListener("touchmove",this.handleEvent.bind(this)),this.element.removeEventListener("mouseup",this.handleEvent.bind(this)),this.element.removeEventListener("mouseleave",this.handleEvent.bind(this)),this.element.removeEventListener("touchend",this.handleEvent.bind(this))}handleEvent(t){switch(t.type){case"mousedown":case"touchstart":this.startDrag(t);break;case"mousemove":case"touchmove":this.drag(t);break;case"mouseup":case"mouseleave":case"touchend":this.endDrag(t);break;default:console.log(`${t.type}.`)}}startDrag(t){this.dragging=!0,this.initDragging(),this.delta=[parseInt(this.unify(t).clientX,10),parseInt(this.unify(t).clientY,10)],this.emitSwipeEvents("dragStart",this.delta,t.target)}endDrag(t){this.cancelDragging();const e=parseInt(this.unify(t).clientX,10),s=parseInt(this.unify(t).clientY,10);if(this.delta&&(this.delta[0]||0===this.delta[0])){const t=p(e-this.delta[0]);Math.abs(e-this.delta[0])>30&&(t<0?this.emitSwipeEvents("swipeLeft",[e,s]):this.emitSwipeEvents("swipeRight",[e,s])),this.delta[0]=!1}if(this.delta&&(this.delta[1]||0===this.delta[1])){const t=p(s-this.delta[1]);Math.abs(s-this.delta[1])>30&&(t<0?this.emitSwipeEvents("swipeUp",[e,s]):this.emitSwipeEvents("swipeDown",[e,s])),this.delta[1]=!1}this.emitSwipeEvents("dragEnd",[e,s]),this.dragging=!1}drag(t){this.dragging&&(window.requestAnimationFrame?this.intervalId=window.requestAnimationFrame((()=>{this.emitDrag(t)})):this.intervalId=setTimeout((()=>{this.emitDrag(t)}),250))}unify(t){return this.changedTouches=t.changedTouches,this.changedTouches?this.changedTouches[0]:t}emitDrag(t){this.emitSwipeEvents("dragging",[parseInt(this.unify(t).clientX,10),parseInt(this.unify(t).clientY,10)])}emitSwipeEvents(t,e,s){let i=!1;s&&(i=s);const n=new CustomEvent(t,{detail:{x:e[0],y:e[1],origin:i}});this.element.dispatchEvent(n)}}class g extends m{constructor(t){super(t),this.element=t,this.containerClass="nsw-carousel-container",this.controlClass="js-carousel__control",this.wrapperClass="js-carousel__wrapper",this.counterClass="js-carousel__counter",this.counterTorClass="js-carousel__counter-tot",this.navClass="js-carousel__navigation",this.navItemClass="js-carousel__nav-item",this.navigationItemClass=this.element.getAttribute("data-navigation-item-class")?this.element.getAttribute("data-navigation-item-class"):"nsw-carousel__nav-item",this.navigationClass=this.element.getAttribute("data-navigation-class")?this.element.getAttribute("data-navigation-class"):"nsw-carousel__navigation",this.paginationClass=this.element.getAttribute("data-pagination-class")?this.element.getAttribute("data-pagination-class"):"nsw-carousel__navigation--pagination",this.draggingClass="nsw-carousel--is-dragging",this.loadedClass="nsw-carousel--loaded",this.animateClass="nsw-carousel__list--animating",this.cloneClass="js-clone",this.srClass="sr-only",this.srLiveAreaClass="js-carousel__aria-live",this.hideControlsClass="nsw-carousel--hide-controls",this.hideClass="nsw-display-none",this.centerClass="nsw-justify-content-center",this.listWrapper=this.element.querySelector(`.${this.wrapperClass}`),this.list=!!this.listWrapper&&this.listWrapper.querySelector("ol"),this.items=!!this.list&&this.list.getElementsByTagName("li"),this.controls=this.element.querySelectorAll(`.${this.controlClass}`),this.counter=this.element.querySelectorAll(`.${this.counterClass}`),this.counterTor=this.element.querySelectorAll(`.${this.counterTorClass}`),this.ariaLabel=this.element.getAttribute("data-description")?this.element.getAttribute("data-description"):"Card carousel",this.dragEnabled=!(!this.element.getAttribute("data-drag")||"on"!==this.element.getAttribute("data-drag")),this.loop=!(!this.element.getAttribute("data-loop")||"on"!==this.element.getAttribute("data-loop")),this.nav=!(this.element.getAttribute("data-navigation")&&"off"===this.element.getAttribute("data-navigation")),this.navigationPagination=!(!this.element.getAttribute("data-navigation-pagination")||"on"!==this.element.getAttribute("data-navigation-pagination")),this.justifyContent=!(!this.element.getAttribute("data-justify-content")||"on"!==this.element.getAttribute("data-justify-content")),this.initItems=[],this.itemsNb=this.items.length,this.visibItemsNb=1,this.itemsWidth=1,this.itemOriginalWidth=!1,this.selectedItem=0,this.translateContainer=0,this.containerWidth=0,this.animating=!1,this.dragStart=!1,this.resizeId=!1,this.cloneList=[],this.itemAutoSize=!1,this.totTranslate=0,this.nav&&(this.loop=!1),this.flexSupported=CSS.supports("align-items","stretch"),this.transitionSupported=CSS.supports("transition","transform"),this.cssPropertiesSupported="CSS"in window&&CSS.supports("color","var(--color-var)")}init(){this.items&&(this.initCarouselLayout(),this.setItemsWidth(!0),this.insertBefore(this.visibItemsNb),this.updateCarouselClones(),this.resetItemsTabIndex(),this.initAriaLive(),this.initCarouselEvents(),this.initCarouselCounter())}initCarouselLayout(){this.element.classList.add(this.loadedClass),this.element.setAttribute("aria-roledescription","carousel"),this.element.setAttribute("aria-label",this.ariaLabel);const t=Array.from(this.items);t.forEach(((e,s)=>{e.setAttribute("role","group"),e.setAttribute("aria-roledescription","slide"),e.setAttribute("aria-label",`${s+1} of ${t.length}`),e.setAttribute("data-index",s)})),this.carouselCreateContainer();const e=this.items&&window.getComputedStyle(this.items[0]),s=this.listWrapper&&window.getComputedStyle(this.listWrapper);let i=e?parseFloat(e.getPropertyValue("width")):0;const n=e?parseFloat(e.getPropertyValue("margin-right")):0,o=s?parseFloat(s.getPropertyValue("padding-left")):0;let a=s?parseFloat(s.getPropertyValue("width")):0;this.itemAutoSize||(this.itemAutoSize=i),a=this.getCarouselWidth(a),this.itemOriginalWidth?i=this.itemOriginalWidth:this.itemOriginalWidth=i,this.itemAutoSize&&(this.itemOriginalWidth=parseInt(this.itemAutoSize,10),i=this.itemOriginalWidth),a<i&&(this.itemOriginalWidth=a,i=this.itemOriginalWidth),this.visibItemsNb=parseInt((a-2*o+n)/(i+n),10),this.itemsWidth=parseFloat(((a-2*o+n)/this.visibItemsNb-n).toFixed(1)),this.containerWidth=(this.itemsWidth+n)*this.items.length,this.translateContainer=0-(this.itemsWidth+n)*this.visibItemsNb,this.flexSupported||(this.list.style.width=(this.itemsWidth+n)*this.visibItemsNb*3+"px"),this.totTranslate=0-this.selectedItem*(this.itemsWidth+n),this.items.length<=this.visibItemsNb&&(this.totTranslate=0),this.centerItems()}carouselCreateContainer(){if(!this.element.parentElement.classList.contains(this.containerClass)){const t=document.createElement("div");t.classList.add(this.containerClass),this.element.parentNode.insertBefore(t,this.element),t.appendChild(this.element)}}setItemsWidth(t){for(let e=0;e<this.items.length;e+=1)this.items[e].style.width=`${this.itemsWidth}px`,t&&this.initItems.push(this.items[e])}updateCarouselClones(){this.loop&&(this.items.length<3*this.visibItemsNb?this.insertAfter(3*this.visibItemsNb-this.items.length,this.items.length-2*this.visibItemsNb):this.items.length>3*this.visibItemsNb&&this.removeClones(3*this.visibItemsNb,this.items.length-3*this.visibItemsNb),this.setTranslate(`translateX(${this.translateContainer}px)`))}initCarouselEvents(){this.nav&&(this.carouselCreateNavigation(),this.carouselInitNavigationEvents()),this.controls.length>0&&(this.controls[0].addEventListener("click",(t=>{t.preventDefault(),this.showPrevItems(),this.updateAriaLive()})),this.controls[1].addEventListener("click",(t=>{t.preventDefault(),this.showNextItems(),this.updateAriaLive()})),this.resetCarouselControls(),this.emitCarouselActiveItemsEvent()),this.dragEnabled&&window.requestAnimationFrame&&(super.init(),this.element.addEventListener("dragStart",(t=>{t.detail.origin&&t.detail.origin.closest(`.${this.controlClass}`)||t.detail.origin&&t.detail.origin.closest(`.${this.navClass}`)||t.detail.origin&&!t.detail.origin.closest(`.${this.wrapperClass}`)||(this.element.classList.add(this.draggingClass),this.dragStart=t.detail.x,this.animateDragEnd())})),this.element.addEventListener("dragging",(t=>{if(!this.dragStart)return;if(this.animating||Math.abs(t.detail.x-this.dragStart)<10)return;let e=t.detail.x-this.dragStart+this.translateContainer;this.loop||(e=t.detail.x-this.dragStart+this.totTranslate),this.setTranslate(`translateX(${e}px)`)}))),window.addEventListener("resize",(()=>{clearTimeout(this.resizeId),this.resizeId=setTimeout((()=>{this.resetCarouselResize(),this.resetDotsNavigation(),this.resetCarouselControls(),this.setCounterItem(),this.centerItems(),this.emitCarouselActiveItemsEvent()}),250)})),this.element.addEventListener("keydown",(t=>{t.key&&"arrowright"===t.key.toLowerCase()?this.showNextItems():t.key&&"arrowleft"===t.key.toLowerCase()||t.key&&"home"===t.key.toLowerCase()?this.showPrevItems():t.key&&"end"===t.key.toLowerCase()?this.showNextItems():t.key&&"enter"===t.key.toLowerCase()&&(t.preventDefault(),t.target.click())}));const t=this.element.querySelectorAll(".nsw-carousel__item a");t.length>0&&t.forEach(((e,s)=>{e.addEventListener("focus",(()=>{e.closest(".js-carousel__wrapper").querySelector(".nsw-carousel__list")&&e.focus({preventScroll:!0})})),e.addEventListener("focusout",(()=>{const i=e.closest(".nsw-carousel__item"),n=Number(i.getAttribute("data-index"))+1;n%this.visibItemsNb==0&&n!==this.items.length&&(t[s+1].focus({preventScroll:!0}),this.showNextItems())}))}))}showPrevItems(){this.animating||(this.animating=!0,this.selectedItem=this.getIndex(this.selectedItem-this.visibItemsNb),this.animateList("0","prev"))}showNextItems(){this.animating||(this.animating=!0,this.selectedItem=this.getIndex(this.selectedItem+this.visibItemsNb),this.animateList(2*this.translateContainer+"px","next"))}animateDragEnd(){const t=e=>{if(this.element.removeEventListener("dragEnd",t),this.element.classList.remove(this.draggingClass),e.detail.x-this.dragStart<-40)this.animating=!1,this.showNextItems();else if(e.detail.x-this.dragStart>40)this.animating=!1,this.showPrevItems();else{if(e.detail.x-this.dragStart==0)return;this.animating=!0,this.animateList(`${this.translateContainer}px`,!1)}this.dragStart=!1};this.element.addEventListener("dragEnd",t)}animateList(t,e){let s=t;this.list.classList.add(this.animateClass);const i=this.totTranslate;if(this.loop||(s=this.noLoopTranslateValue(e)),setTimeout((()=>{this.setTranslate(`translateX(${s})`)})),this.transitionSupported){const t=s=>{s.propertyName&&"transform"!==s.propertyName||(this.list&&(this.list.classList.remove(this.animateClass),this.list.removeEventListener("transitionend",t)),this.animateListCb(e))};this.list.addEventListener("transitionend",t)}else this.animateListCb(e);this.loop||i!==this.totTranslate||this.list.dispatchEvent(new CustomEvent("transitionend")),this.resetCarouselControls(),this.setCounterItem(),this.emitCarouselActiveItemsEvent()}noLoopTranslateValue(t){let e=this.totTranslate;return"next"===t?e=this.totTranslate+this.translateContainer:"prev"===t?e=this.totTranslate-this.translateContainer:"click"===t&&(e=this.selectedDotIndex*this.translateContainer),e>0&&(e=0,this.selectedItem=0),e<-this.translateContainer-this.containerWidth&&(e=-this.translateContainer-this.containerWidth,this.selectedItem=this.items.length-this.visibItemsNb),this.visibItemsNb>this.items.length&&(e=0),this.totTranslate=e,`${e}px`}animateListCb(t){t&&this.updateClones(t),this.animating=!1,this.resetItemsTabIndex()}updateClones(t){if(!this.loop)return;const e="next"===t?0:this.items.length-this.visibItemsNb;this.removeClones(e,!1),"next"===t?this.insertAfter(this.visibItemsNb,0):this.insertBefore(this.visibItemsNb),this.setTranslate(`translateX(${this.translateContainer}px)`)}insertBefore(t,e){if(!this.loop)return;const s=document.createDocumentFragment();let i=0;e&&(i=e);for(let e=i;e<t;e+=1){const t=this.getIndex(this.selectedItem-e-1),i=this.initItems[t].cloneNode(!0);i.classList.add(this.cloneClass),s.insertBefore(i,s.firstChild)}this.list.insertBefore(s,this.list.firstChild),this.emitCarouselUpdateEvent()}insertAfter(t,e){if(!this.loop)return;const s=document.createDocumentFragment();for(let i=e;i<t+e;i+=1){const t=this.getIndex(this.selectedItem+this.visibItemsNb+i),e=this.initItems[t].cloneNode(!0);e.classList.add(this.cloneClass),s.appendChild(e)}this.list.appendChild(s),this.emitCarouselUpdateEvent()}removeClones(t,e){let s=e;if(this.loop){e||(s=this.visibItemsNb);for(let e=0;e<s;e+=1)this.items[t]&&this.list.removeChild(this.items[t])}}resetCarouselResize(){const t=this.visibItemsNb;if(this.resetItemAutoSize(),this.initCarouselLayout(),this.setItemsWidth(!1),this.resetItemsWidth(),this.loop)t>this.visibItemsNb?this.removeClones(0,t-this.visibItemsNb):t<this.visibItemsNb&&this.insertBefore(this.visibItemsNb,t),this.updateCarouselClones();else{const t=this.noLoopTranslateValue();this.setTranslate(`translateX(${t})`)}this.resetItemsTabIndex()}resetItemAutoSize(){this.cssPropertiesSupported&&(this.items[0].removeAttribute("style"),this.itemAutoSize=getComputedStyle(this.items[0]).getPropertyValue("width"))}resetItemsWidth(){this.initItems.forEach((t=>{t.style.width=`${this.itemsWidth}px`}))}resetItemsTabIndex(){const t=this.items.length>this.visibItemsNb;let e=this.items.length;for(let s=0;s<this.items.length;s+=1)this.loop?s<this.visibItemsNb||s>=2*this.visibItemsNb?(this.items[s].setAttribute("tabindex","-1"),this.items[s].setAttribute("aria-hidden","true"),this.items[s].removeAttribute("aria-current")):(s<e&&(e=s),this.items[s].removeAttribute("tabindex"),this.items[s].removeAttribute("aria-hidden"),this.items[s].setAttribute("aria-current","true")):(s<this.selectedItem||s>=this.selectedItem+this.visibItemsNb)&&t?(this.items[s].setAttribute("tabindex","-1"),this.items[s].setAttribute("aria-hidden","true"),this.items[s].removeAttribute("aria-current")):(s<e&&(e=s),this.items[s].removeAttribute("tabindex"),this.items[s].removeAttribute("aria-hidden"),this.items[s].setAttribute("aria-current","true"));this.resetVisibilityOverflowItems(e)}initAriaLive(){const t=document.createElement("div");t.setAttribute("class",`${this.srClass} ${this.srLiveAreaClass}`),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),this.element.appendChild(t),this.ariaLive=t}updateAriaLive(){this.ariaLive.innerHTML=`Item ${this.selectedItem+1} selected. ${this.visibItemsNb} items of ${this.initItems.length} visible`}getIndex(t){let e=t;return e<0&&(e=this.getPositiveValue(e,this.itemsNb)),e>=this.itemsNb&&(e%=this.itemsNb),e}getPositiveValue(t,e){let s=t;return s+=e,s>0?s:this.getPositiveValue(s,e)}setTranslate(t){this.list.style.transform=t,this.list.style.msTransform=t}getCarouselWidth(t){let e=t;const s=this.listWrapper.closest(`.${this.srClass}`);return s?(s.classList.remove(this.srClass),e=this.listWrapper.offsetWidth,s.classList.add(this.srClass)):Number.isNaN(e)&&(e=this.getHiddenParentWidth(this.element)),e}getHiddenParentWidth(t){const e=t.parentElement;if("html"===e.tagName.toLowerCase())return 0;const s=window.getComputedStyle(e);if("none"===s.display||"hidden"===s.visibility){e.setAttribute("style","display: block!important; visibility: visible!important;");const t=this.listWrapper.offsetWidth;return e.style.display="",e.style.visibility="",t}return this.getHiddenParentWidth(e)}resetCarouselControls(){if(!this.loop){if(this.controls.length>0&&(0===this.totTranslate?this.controls[0].setAttribute("disabled",!0):this.controls[0].removeAttribute("disabled"),this.totTranslate===-this.translateContainer-this.containerWidth||this.items.length<=this.visibItemsNb?this.controls[1].setAttribute("disabled",!0):this.controls[1].removeAttribute("disabled")),this.nav){const t=this.navigation.querySelectorAll(`.${this.navigationItemClass}--selected`);t.length>0&&t[0].classList.remove(`${this.navigationItemClass}--selected`);let e=this.getSelectedDot();this.totTranslate===-this.translateContainer-this.containerWidth&&(e=this.navDots.length-1),this.navDots[e].classList.add(`${this.navigationItemClass}--selected`)}0===this.totTranslate&&(this.totTranslate===-this.translateContainer-this.containerWidth||this.items.length<=this.visibItemsNb)?this.element.classList.add(this.hideControlsClass):this.element.classList.remove(this.hideControlsClass)}}emitCarouselUpdateEvent(){this.cloneList=[];this.element.querySelectorAll(`.${this.cloneClass}`).forEach((t=>{t.classList.remove(this.cloneClass),this.cloneList.push(t)})),this.emitCarouselEvents("carousel-updated",this.cloneList)}carouselCreateNavigation(){if(this.element.querySelectorAll(`.${this.navClass}`).length>0)return;const t=document.createElement("ol");let e="",s="";s=this.navigationPagination?`${this.navigationClass} ${this.paginationClass} ${this.navClass}`:`${this.navigationClass} ${this.navClass}`,this.items.length<=this.visibItemsNb&&(s+=` ${this.hideClass}`),t.setAttribute("class",s);const i=Math.ceil(this.items.length/this.visibItemsNb),n=this.getSelectedDot(),o=this.navigationPagination?"":this.srClass;for(let t=0;t<i;t+=1){e=`${e}<li ${t===n?`class="${this.navigationItemClass} ${this.navigationItemClass}--selected ${this.navItemClass}"`:`class="${this.navigationItemClass} ${this.navItemClass}"`}><button><span class="${o}">${t+1}</span></button></li>`}t.innerHTML=e,this.element.appendChild(t)}carouselInitNavigationEvents(){this.navigation=this.element.querySelector(`.${this.navClass}`),this.navDots=this.element.querySelectorAll(`.${this.navItemClass}`),this.navIdEvent=this.carouselNavigationClick.bind(this),this.navigation.addEventListener("click",this.navIdEvent)}carouselRemoveNavigation(){this.navigation&&this.element.removeChild(this.navigation),this.navIdEvent&&this.navigation.removeEventListener("click",this.navIdEvent)}resetDotsNavigation(){this.nav&&(this.carouselRemoveNavigation(),this.carouselCreateNavigation(),this.carouselInitNavigationEvents())}carouselNavigationClick(t){const e=t.target.closest(`.${this.navItemClass}`);if(!e)return;if(this.animating)return;this.animating=!0;const s=Array.from(this.navDots).indexOf(e);this.selectedDotIndex=s,this.selectedItem=s*this.visibItemsNb,this.animateList(!1,"click")}getSelectedDot(){return Math.ceil(this.selectedItem/this.visibItemsNb)}initCarouselCounter(){this.counterTor.length>0&&(this.counterTor[0].textContent=this.itemsNb),this.setCounterItem()}setCounterItem(){if(0===this.counter.length)return;let t=this.selectedItem+this.visibItemsNb;t>this.items.length&&(t=this.items.length),this.counter[0].textContent=t}centerItems(){this.justifyContent&&this.list.classList.toggle(this.centerClass,this.items.length<this.visibItemsNb)}emitCarouselActiveItemsEvent(){this.emitCarouselEvents("carousel-active-items",{firstSelectedItem:this.selectedItem,visibleItemsNb:this.visibItemsNb})}emitCarouselEvents(t,e){const s=new CustomEvent(t,{detail:e});this.element.dispatchEvent(s)}resetVisibilityOverflowItems(t){const e=this.containerWidth/this.items.length,s=(window.innerWidth-e*this.visibItemsNb)/2,i=Math.ceil(s/e);for(let e=0;e<i;e+=1){const s=t-1-e;s>=0&&this.items[s].removeAttribute("tabindex");const i=t+this.visibItemsNb+e;i<this.items.length&&this.items[i].removeAttribute("tabindex")}}}class b{constructor(t){this.element=t,this.elementWrapper=this.element.querySelector(".nsw-dialog__wrapper"),this.openBtn=document.querySelectorAll(`.js-open-dialog-${this.element.getAttribute("id")}`),this.closeBtn=this.element.querySelectorAll(".js-close-dialog"),this.focusableEls=this.element.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),this.body=document.body,this.openEvent=this.openDialog.bind(this),this.closeEvent=this.closeDialog.bind(this),this.clickEvent=this.clickDialog.bind(this),this.trapEvent=this.trapFocus.bind(this)}init(){this.controls()}controls(){this.elementWrapper&&(this.openBtn.forEach((t=>{t.addEventListener("click",this.openEvent,!1)})),this.closeBtn.forEach((t=>{t.addEventListener("click",this.closeEvent,!1)})),this.element.classList.contains("js-dialog-dismiss")&&this.element.addEventListener("click",this.clickEvent,!1),this.focusableEls.length>0&&this.focusableEls[this.focusableEls.length-1].addEventListener("blur",this.trapEvent,!1))}openDialog(){this.element.setAttribute("aria-expanded","true"),this.element.classList.add("active"),this.body.classList.add("dialog-active"),this.focusableEls.length>0&&this.focusableEls[0].focus()}closeDialog(){this.element.setAttribute("aria-expanded","false"),this.element.classList.remove("active"),this.body.classList.remove("dialog-active")}clickDialog(t){this.elementWrapper.contains(t.target)||this.closeDialog()}trapFocus(t){t.preventDefault(),this.focusableEls.length>0&&this.focusableEls[0].focus()}}class v{constructor(t){this.element=t,this.uID=l("external"),this.linkIcon=this.element.querySelector(".nsw-material-icons"),this.linkIconTitle=!!this.linkIcon&&this.linkIcon.getAttribute("title"),this.linkElement=!1}init(){"A"===this.element.tagName&&(this.element.classList.add("nsw-link","nsw-link--icon"),this.constructor.setAttributes(this.element,{target:"_blank",rel:"noopener"}),this.linkIcon&&this.constructor.setAttributes(this.linkIcon,{focusable:"false","aria-hidden":"true"}),this.linkIconTitle&&this.createElement(this.linkIconTitle))}createElement(t){t&&(this.linkElement=document.createElement("span"),this.linkElement.id=this.uID,this.linkElement.classList.add("sr-only"),this.linkElement.innerText=t,this.element.insertAdjacentElement("afterend",this.linkElement),this.constructor.setAttributes(this.element,{"aria-describedby":this.uID}))}static setAttributes(t,e){Object.keys(e).forEach((s=>t.setAttribute(s,e[s])))}}class f{constructor(t){this.element=t,this.input=this.element.querySelector("input.nsw-file-upload__input"),this.label=this.element.querySelector("label.nsw-file-upload__label"),this.multipleUpload=this.input&&this.input.hasAttribute("multiple"),this.replaceFiles=this.element.hasAttribute("data-replace-files"),this.filesList=null}init(){if(this.input){if(!this.label){const t=document.createElement("label");t.htmlFor=this.input.id,t.classList.add("nsw-file-upload__label","nsw-button","nsw-button--dark-outline-solid"),t.textContent="Select file",this.element.insertAdjacentElement("beforeend",t),this.label=this.element.querySelector("label.nsw-file-upload__label")}this.input.addEventListener("change",this.handleInputChange.bind(this))}}handleInputChange(){""!==this.input.value&&this.updateFileList()}createFileList(){const t=document.createElement("ul");t.classList.add("nsw-file-upload__list"),this.label.insertAdjacentElement("afterend",t),this.filesList=this.element.querySelector(".nsw-file-upload__list")}createFileItem(t){const e=document.createElement("li");e.classList.add("nsw-file-upload__item");return e.insertAdjacentHTML("afterbegin",'\n      <span class="nsw-file-upload__item-filename"></span>\n      <button type="button" class="nsw-icon-button">\n        <span class="sr-only">Remove file</span>\n        <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">cancel</span>\n      </button>'),e.querySelector(".nsw-file-upload__item-filename").textContent=this.constructor.truncateString(t.name,50),e.outerHTML}updateFileList(){this.filesList||this.createFileList(),this.filesList.classList.add("active");let t="";for(let e=0;e<this.input.files.length;e+=1){const s=this.input.files[e];t=this.createFileItem(s)+t}this.replaceFiles?this.filesList.innerHTML=t:this.filesList.insertAdjacentHTML("beforeend",t),this.removeFile()}removeFile(){this.filesList.addEventListener("click",this.handleFileRemove.bind(this))}handleFileRemove(t){if(!t.target.closest(".nsw-icon-button"))return;t.preventDefault();t.target.closest(".nsw-file-upload__item").remove(),0===this.filesList.children.length&&this.filesList.classList.remove("active")}static truncateString(t,e){return t.length<=e?t:`${t.slice(0,e)}...`}}class y{constructor(t){this.element=t,this.hideClass="nsw-display-none",this.showClass="active",this.openClass="filters-open",this.prefix="nsw-",this.class="filters",this.controlsClass=`${this.class}__controls`,this.wrapperClass=`${this.class}__wrapper`,this.listClass=`${this.class}__list`,this.itemClass=`${this.class}__item`,this.resetClass=`${this.class}__cancel`,this.submitClass=`${this.class}__accept`,this.closeClass=`${this.class}__back`,this.countClass=`${this.class}__count`,this.allClass=`${this.class}__all`,this.moreClass=`${this.class}__more`,this.count=this.element.querySelector(`.js-${this.countClass}`),this.controls=this.element.querySelector(`.${this.prefix}${this.controlsClass}`),this.controlsButton=this.controls&&this.controls.querySelector("button"),this.controlsButtonIcons=this.controlsButton&&this.controlsButton.querySelectorAll("span"),this.controlsButtonText=this.controlsButton&&this.controlsButton.querySelector("span:not(.nsw-material-icons)"),this.controlsButtonTextContent=this.controlsButton&&this.controlsButtonText.innerText,this.wrapper=this.element.querySelector(`.${this.prefix}${this.wrapperClass}`),this.closeButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.closeClass} button`),this.submitButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.submitClass} button`),this.resetButton=this.wrapper&&this.wrapper.querySelector(`.${this.prefix}${this.resetClass} button`),this.items=this.wrapper&&this.wrapper.querySelectorAll(`.${this.prefix}${this.itemClass}`),this.accordionButtons=this.wrapper&&this.wrapper.querySelectorAll(`.${this.prefix}${this.itemClass}-button`),this.showMoreContent=this.element.querySelectorAll(`.${this.prefix}${this.allClass}`),this.showMoreButtons=this.element.querySelectorAll(`.${this.prefix}${this.moreClass}`),this.focusableElements='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])',this.buttons=[],this.content=[],this.options=[],this.selected=[]}init(){this.element.classList.add("ready"),this.accordionButtons&&this.accordionButtons.forEach((t=>{const e=t,s=l("collapsed");e.setAttribute("type","button"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls",s);const i=e.querySelector(`.${this.prefix}${this.itemClass}-name`);e.setAttribute("data-label",i.innerText);const n=e.nextElementSibling;n.id=e.getAttribute("aria-controls"),n.hidden=!0,this.content.push(n),this.buttons.push(e)})),this.updateDom(),this.initEvents()}initEvents(){document.addEventListener("DOMContentLoaded",(()=>{this.updateDom()})),this.options&&this.options.forEach((t=>{t.addEventListener("change",(()=>{this.updateDom()}))})),this.controlsButton&&this.controlsButton.addEventListener("click",(t=>{this.showFilters(t)})),this.submitButton&&(this.submitButton.disabled=!0),this.closeButton&&this.closeButton.addEventListener("click",(t=>{this.closeFilters(t)})),this.buttons&&this.buttons.forEach((t=>{t.addEventListener("click",(t=>{this.toggleAccordion(t)}))})),this.resetButton&&(this.resetButton.addEventListener("click",(t=>{this.clearAll(t)})),this.resetButton.addEventListener("change",(t=>{this.clearAll(t)}))),this.showMoreButtons&&this.showMoreButtons.forEach(((t,e)=>{t.addEventListener("click",(t=>{this.showMore(t,e)}))}))}setAccordionState(t,e){const s=this.getTargetContent(t),i=s.querySelector(this.focusableElements);"open"===e?(t.classList.add(this.showClass),t.setAttribute("aria-expanded","true"),s.hidden=!1,this.constructor.moveFocusFn(i)):"close"===e&&(t.classList.remove(this.showClass),t.setAttribute("aria-expanded","false"),s.hidden=!0)}toggleAccordion(t){const{currentTarget:e}=t;this.getTargetContent(e).hidden?this.setAccordionState(e,"open"):this.setAccordionState(e,"close")}getTargetContent(t){const e=this.buttons.indexOf(t);return this.content[e]}toggleSubmit(t){this.submitButton&&(t.length>0?this.submitButton.disabled=!1:this.submitButton.disabled=!0)}showMore(t,e){t.preventDefault();const s=this.showMoreContent[e].querySelector(this.focusableElements);this.showMoreContent[e].classList.remove(this.hideClass),t.target.classList.add(this.hideClass),this.constructor.moveFocusFn(s)}closeFilters(t){t.preventDefault(),this.element.classList.remove(this.showClass),document.body.classList.remove(this.openClass)}showFilters(t){t.preventDefault(),this.element.classList.contains("nsw-filters--down")?this.element.classList.toggle(this.showClass):(this.trapFocus(this.wrapper),this.element.classList.add(this.showClass),document.body.classList.add(this.openClass))}clearAll(t){t.preventDefault();const e=new MouseEvent("change",{view:window,bubbles:!0,cancelable:!0}),s=this.element.querySelector(".js-multi-select"),i=s&&s.querySelector(".js-multi-select__all"),n=s&&s.querySelectorAll(".js-multi-select__option");this.options.length>0&&this.options.forEach((t=>{const e=t;"text"===e.type||"select-one"===e.type?e.value="":e.parentElement.classList.contains("js-multi-select__option")||(e.value=!1,e.checked=!1)})),s&&(i.classList.remove(this.showClass),n.forEach((t=>{t.setAttribute("aria-selected","true"),t.dispatchEvent(new Event(e)),t.click()}))),this.updateDom()}getOptions(){this.options=[],this.items&&this.items.forEach((t=>{const e=t.querySelector(`.${this.prefix}${this.itemClass}-content`),s=e.querySelectorAll('input[type="text"]'),i=e.querySelectorAll("select:not([multiple]):not(.nsw-display-none)"),n=e.querySelectorAll("select[multiple]:not(.nsw-display-none)"),o=e.querySelectorAll('input[type="checkbox"]');this.options.push(...s,...i,...o,...n)}))}getSelected(){if(this.selected=[],this.options.length>0){const t=this.options.filter((t=>"select-one"===t.type&&""!==t.value)),e=this.options.filter((t=>t.checked)),s=this.options.filter((t=>"text"===t.type&&""!==t.value)),i=this.options.filter((t=>"select-multiple"===t.type&&""!==t.value)),n=this.constructor.getMultiSelectValues(i);this.selected=[...t,...e,...s,...n]}}selectedCount(t){if(!this.count)return;const e=t.filter((t=>t.closest(".nsw-form__date"))),s=t.filter((t=>!t.closest(".nsw-form__date")));let i=`${this.controlsButtonTextContent}`,n="";n=e.length>0?` (${s.length+1})`:` (${t.length})`,0===e.length&&0===t.length||(i+=n),this.controlsButtonText.innerText=i}setSelectedState(){this.buttons.forEach((t=>{const e=t.querySelector(`.${this.prefix}${this.itemClass}-name`),s=t.getAttribute("data-label"),i=t.nextElementSibling.querySelectorAll('textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled]):not(.nsw-display-none)'),n=Array.from(i).filter((t=>"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value));n.length>0?(e.innerText=s,e.innerHTML=`${s} <span class="material-icons nsw-material-icons nsw-material-icons--valid" focusable="false" aria-hidden="true">check_circle</span>`):0===n.length&&(e.innerText=s)}))}updateDom(){this.getOptions(),this.getSelected(),this.toggleSubmit(this.selected),this.selectedCount(this.selected),this.setSelectedState()}trapFocus(t){const e=t.querySelectorAll(this.focusableElements),s=e[0],i=e[e.length-1];document.addEventListener("keydown",(t=>{(t.code&&9===t.code||t.key&&"Tab"===t.key)&&(document.activeElement===s&&t.shiftKey&&(t.preventDefault(),i.focus()),document.activeElement!==i||t.shiftKey||(t.preventDefault(),s.focus()))})),s.focus()}static getMultiSelectValues(t){let e=[];return t.length>0&&t.forEach((t=>{e=Array.from(t.options).filter((t=>t.selected))})),e}static moveFocusFn(t){t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}}class w{constructor(t){this.element=t,this.closeButton=this.element.querySelector("button.js-close-alert"),this.cookieName=this.element.getAttribute("data-cookie-name")||!1}init(){this.cookieName&&this.constructor.getCookie(this.cookieName)?this.element.hidden=!0:this.closeButton&&this.controls()}controls(){this.closeButton.addEventListener("click",(()=>{this.closeMessage()}))}closeMessage(){this.element.hidden=!0,this.cookieName&&this.constructor.setCookie(this.cookieName,"dismissed",7)}static setCookie(t,e,s){const i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);const n=`expires=${i.toUTCString()}`;document.cookie=`${t}=${e};${n};path=/`}static getCookie(t){const e=`${t}=`,s=document.cookie.split(";");for(let t=0;t<s.length;t+=1){let i=s[t];for(;" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return i.substring(e.length,i.length)}return null}}class E{constructor(t){this.nav=t,this.navID=this.nav.id,this.openNavButton=document.querySelector(".js-open-nav"),this.closeNavButtons=this.nav.querySelectorAll(".js-close-nav"),this.closeSubNavButtons=this.nav.querySelectorAll(".js-close-sub-nav"),this.isMegaMenuElement=this.nav.classList.contains("js-mega-menu"),this.mainNavIsOpen=!1,this.transitionEvent=(()=>{const t=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};return e[Object.keys(e).filter((e=>void 0!==t.style[e]))[0]]})(),this.mobileShowMainTransitionEndEvent=t=>this.mobileShowMainNav(t),this.mobileHideMainTransitionEndEvent=t=>this.mobileHideMainNav(t),this.showSubNavTransitionEndEvent=t=>this.showSubNav(t),this.mobileTrapTabKeyEvent=t=>this.mobileMainNavTrapTabs(t),this.mobileSubNavTrapTabKeyEvent=t=>this.trapkeyEventStuff(t),this.desktopButtonClickEvent=t=>this.buttonClickDesktop(t),this.desktopButtonKeydownEvent=t=>this.buttonKeydownDesktop(t),this.checkFocusEvent=t=>this.checkIfContainsFocus(t),this.openSubNavElements=[],this.breakpoint=window.matchMedia("(min-width: 62em)")}init(){this.initEvents(),this.responsiveCheck(this.breakpoint),this.nav&&this.breakpoint.addEventListener("change",(t=>this.responsiveCheck(t)))}initEvents(){this.isMegaMenuElement&&(document.addEventListener("click",this.handleOutsideClick.bind(this),!1),document.addEventListener("keydown",this.escapeClose.bind(this),!1)),this.openNavButton&&this.openNavButton.addEventListener("click",this.mobileToggleMainNav.bind(this),!1),this.closeNavButtons.forEach((t=>{t.addEventListener("click",this.mobileToggleMainNav.bind(this),!1)})),this.closeSubNavButtons.forEach((t=>{t.addEventListener("click",this.closeSubNav.bind(this),!1)}))}responsiveCheck(t){let e=[];t.matches?(e=[].slice.call(this.nav.querySelectorAll("ul > li")),document.body.classList.remove("main-nav-active")):e=[].slice.call(this.nav.querySelectorAll("li")),this.tearDownNavControls(),this.setUpNavControls(e)}handleOutsideClick(t){if(this.nav.closest(".nsw-docs"))return;if(!this.mainNavIsOpen)return;!this.nav.contains(t.target)&&this.toggleSubNavDesktop(!0)}tearDownNavControls(){if(this.isMegaMenuElement){[].slice.call(this.nav.querySelectorAll("li")).forEach((t=>{const e=t.querySelector("[id^=sub-nav-]"),s=t.querySelector("a");e&&(s.removeAttribute("role"),s.removeAttribute("aria-expanded"),s.removeAttribute("aria-controls"),s.removeEventListener("click",this.desktopButtonClickEvent,!1),s.removeEventListener("keydown",this.desktopButtonKeydownEvent,!1))}))}}setUpNavControls(t){this.isMegaMenuElement&&t.forEach((t=>{const e=t.querySelector("[id^=sub-nav-]"),s=t.querySelector("a");e&&(s.setAttribute("role","button"),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-controls",e.id),s.addEventListener("click",this.desktopButtonClickEvent,!1),s.addEventListener("keydown",this.desktopButtonKeydownEvent,!1))}))}mobileMainNavTrapTabs(t){const e=r(this.navID,["> div button","> ul > li > a"]);h(t,e)}mobileShowMainNav(t){let{propertyName:e}=t;"transform"===e&&(r(this.navID,["> div button","> ul > li > a"]).all[1].focus(),this.nav.classList.add("active"),this.nav.classList.remove("activating"),this.nav.removeEventListener(this.transitionEvent,this.mobileShowMainTransitionEndEvent,!1),this.nav.addEventListener("keydown",this.mobileTrapTabKeyEvent,!1))}mobileHideMainNav(t){let{propertyName:e}=t;if("transform"===e){for(this.nav.classList.remove("active"),this.nav.classList.remove("closing");this.openSubNavElements.length>0;){const{submenu:t}=this.whichSubNavLatest();t.removeEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1),t.classList.remove("active"),t.classList.remove("closing"),this.openSubNavElements.pop()}this.nav.removeEventListener(this.transitionEvent,this.mobileHideMainTransitionEndEvent,!1),this.nav.removeEventListener("keydown",this.mobileTrapTabKeyEvent,!1)}}mobileToggleMainNav(t){const{currentTarget:e}=t;"true"===e.getAttribute("aria-expanded")?(document.body.classList.remove("main-nav-active"),this.openNavButton.focus(),this.nav.classList.add("closing"),this.nav.addEventListener(this.transitionEvent,this.mobileHideMainTransitionEndEvent,!1)):(document.body.classList.add("main-nav-active"),this.nav.classList.add("activating"),this.nav.addEventListener(this.transitionEvent,this.mobileShowMainTransitionEndEvent,!1))}buttonClickDesktop(t){this.breakpoint.matches&&t.target.closest(".nsw-main-nav__sub-nav")||(this.saveElements(t),this.toggleSubNavDesktop(),t.preventDefault())}buttonKeydownDesktop(t){" "!==t.key&&"Enter"!==t.key&&"Spacebar"!==t.key||(this.saveElements(t),this.toggleSubNavDesktop(),t.preventDefault())}escapeClose(t){if("Escape"===t.key){if(this.nav.closest(".nsw-docs"))return;const{link:e}=this.whichSubNavLatest();"true"===e.getAttribute("aria-expanded")&&(this.toggleSubNavDesktop(!0),t.preventDefault(),e.focus())}}saveElements(t){const{currentTarget:e}=t,s={submenu:document.getElementById(e.getAttribute("aria-controls")),link:e,linkParent:e.parentNode};this.openSubNavElements.push(s)}showSubNav(t){let{propertyName:e}=t;const{submenu:s}=this.whichSubNavLatest();"transform"===e&&(r(s.id,["> div button","> .nsw-main-nav__title a","> ul > li > a"]).all[2].focus(),s.removeEventListener(this.transitionEvent,this.showSubNavTransitionEndEvent,!1))}closeSubNav(){const{submenu:t,link:e}=this.whichSubNavLatest();this.breakpoint.matches?(e.setAttribute("aria-expanded",!1),e.classList.remove("active"),this.nav.removeEventListener("focus",this.checkFocusEvent,!0),this.nav.removeEventListener("click",this.checkFocusEvent,!0)):(e.focus(),t.removeEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1)),t.classList.remove("active"),t.closest("ul").parentElement.classList.remove("no-scroll"),this.openSubNavElements.pop()}openSubNav(){const{submenu:t,link:e}=this.whichSubNavLatest();this.breakpoint.matches?(e.setAttribute("aria-expanded",!0),e.classList.add("active"),this.nav.addEventListener("focus",this.checkFocusEvent,!0),this.nav.addEventListener("click",this.checkFocusEvent,!0)):(t.addEventListener("keydown",this.mobileSubNavTrapTabKeyEvent,!1),t.addEventListener(this.transitionEvent,this.showSubNavTransitionEndEvent,!1)),t.closest("ul").parentElement.scrollTop=0,t.closest("ul").parentElement.classList.add("no-scroll"),t.classList.add("active")}toggleSubNavDesktop(){const{link:t}=this.whichSubNavLatest();"true"===t.getAttribute("aria-expanded")?(this.mainNavIsOpen=!1,this.closeSubNav()):(this.mainNavIsOpen=!0,this.openSubNav())}checkIfContainsFocus(t){const{linkParent:e}=this.whichSubNavLatest(),s=e.contains(t.target),i="button"===t.target.closest("a").getAttribute("role");!s&&i&&this.toggleSubNavDesktop()}whichSubNavLatest(){const t=this.openSubNavElements.length-1;return this.openSubNavElements[t]}trapkeyEventStuff(t){const{submenu:e}=this.whichSubNavLatest(),s=r(e.id,["> div button","> ul > li > a"]);h(t,s)}}function C(t){return t.split("-")[1]}function k(t){return"y"===t?"height":"width"}function x(t){return t.split("-")[0]}function L(t){return["top","bottom"].includes(x(t))?"x":"y"}function A(t,e,s){let{reference:i,floating:n}=t;const o=i.x+i.width/2-n.width/2,a=i.y+i.height/2-n.height/2,l=L(e),r=k(l),h=i[r]/2-n[r]/2,c="x"===l;let d;switch(x(e)){case"top":d={x:o,y:i.y-n.height};break;case"bottom":d={x:o,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:a};break;case"left":d={x:i.x-n.width,y:a};break;default:d={x:i.x,y:i.y}}switch(C(e)){case"start":d[l]-=h*(s&&c?-1:1);break;case"end":d[l]+=h*(s&&c?-1:1)}return d}function S(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function I(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function T(t,e){var s;void 0===e&&(e={});const{x:i,y:n,platform:o,rects:a,elements:l,strategy:r}=t,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:u=!1,padding:p=0}=e,m=S(p),g=l[u?"floating"===d?"reference":"floating":d],b=I(await o.getClippingRect({element:null==(s=await(null==o.isElement?void 0:o.isElement(g)))||s?g:g.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(l.floating)),boundary:h,rootBoundary:c,strategy:r})),v="floating"===d?{...a.floating,x:i,y:n}:a.reference,f=await(null==o.getOffsetParent?void 0:o.getOffsetParent(l.floating)),y=await(null==o.isElement?void 0:o.isElement(f))&&await(null==o.getScale?void 0:o.getScale(f))||{x:1,y:1},w=I(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:f,strategy:r}):v);return{top:(b.top-w.top+m.top)/y.y,bottom:(w.bottom-b.bottom+m.bottom)/y.y,left:(b.left-w.left+m.left)/y.x,right:(w.right-b.right+m.right)/y.x}}const $=Math.min,_=Math.max;function D(t,e,s){return _(t,$(e,s))}const N=t=>({name:"arrow",options:t,async fn(e){const{element:s,padding:i=0}=t||{},{x:n,y:o,placement:a,rects:l,platform:r,elements:h}=e;if(null==s)return{};const c=S(i),d={x:n,y:o},u=L(a),p=k(u),m=await r.getDimensions(s),g="y"===u,b=g?"top":"left",v=g?"bottom":"right",f=g?"clientHeight":"clientWidth",y=l.reference[p]+l.reference[u]-d[u]-l.floating[p],w=d[u]-l.reference[u],E=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s));let x=E?E[f]:0;x&&await(null==r.isElement?void 0:r.isElement(E))||(x=h.floating[f]||l.floating[p]);const A=y/2-w/2,I=c[b],T=x-m[p]-c[v],$=x/2-m[p]/2+A,_=D(I,$,T),N=null!=C(a)&&$!=_&&l.reference[p]/2-($<I?c[b]:c[v])-m[p]/2<0;return{[u]:d[u]-(N?$<I?I-$:T-$:0),data:{[u]:_,centerOffset:$-_}}}}),M={left:"right",right:"left",bottom:"top",top:"bottom"};function F(t){return t.replace(/left|right|bottom|top/g,(t=>M[t]))}const q={start:"end",end:"start"};function j(t){return t.replace(/start|end/g,(t=>q[t]))}const B=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var s;const{placement:i,middlewareData:n,rects:o,initialPlacement:a,platform:l,elements:r}=e,{mainAxis:h=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=t,b=x(i),v=x(a)===a,f=await(null==l.isRTL?void 0:l.isRTL(r.floating)),y=d||(v||!m?[F(a)]:function(t){const e=F(t);return[j(t),e,j(e)]}(a));d||"none"===p||y.push(...function(t,e,s,i){const n=C(t);let o=function(t,e,s){const i=["left","right"],n=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return s?e?n:i:e?i:n;case"left":case"right":return e?o:a;default:return[]}}(x(t),"start"===s,i);return n&&(o=o.map((t=>t+"-"+n)),e&&(o=o.concat(o.map(j)))),o}(a,m,p,f));const w=[a,...y],E=await T(e,g),A=[];let S=(null==(s=n.flip)?void 0:s.overflows)||[];if(h&&A.push(E[b]),c){const{main:t,cross:e}=function(t,e,s){void 0===s&&(s=!1);const i=C(t),n=L(t),o=k(n);let a="x"===n?i===(s?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[o]>e.floating[o]&&(a=F(a)),{main:a,cross:F(a)}}(i,o,f);A.push(E[t],E[e])}if(S=[...S,{placement:i,overflows:A}],!A.every((t=>t<=0))){var I,$;const t=((null==(I=n.flip)?void 0:I.index)||0)+1,e=w[t];if(e)return{data:{index:t,overflows:S},reset:{placement:e}};let s=null==($=S.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:$.placement;if(!s)switch(u){case"bestFit":{var _;const t=null==(_=S.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:_[0];t&&(s=t);break}case"initialPlacement":s=a}if(i!==s)return{reset:{placement:s}}}return{}}}};const P=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:s,y:i}=e,n=await async function(t,e){const{placement:s,platform:i,elements:n}=t,o=await(null==i.isRTL?void 0:i.isRTL(n.floating)),a=x(s),l=C(s),r="x"===L(s),h=["left","top"].includes(a)?-1:1,c=o&&r?-1:1,d="function"==typeof e?e(t):e;let{mainAxis:u,crossAxis:p,alignmentAxis:m}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return l&&"number"==typeof m&&(p="end"===l?-1*m:m),r?{x:p*c,y:u*h}:{x:u*h,y:p*c}}(e,t);return{x:s+n.x,y:i+n.y,data:n}}}};function O(t){return"x"===t?"y":"x"}const W=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:s,y:i,placement:n}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:t=>{let{x:e,y:s}=t;return{x:e,y:s}}},...r}=t,h={x:s,y:i},c=await T(e,r),d=L(x(n)),u=O(d);let p=h[d],m=h[u];if(o){const t="y"===d?"bottom":"right";p=D(p+c["y"===d?"top":"left"],p,p-c[t])}if(a){const t="y"===u?"bottom":"right";m=D(m+c["y"===u?"top":"left"],m,m-c[t])}const g=l.fn({...e,[d]:p,[u]:m});return{...g,data:{x:g.x-s,y:g.y-i}}}}};function R(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function V(t){return R(t).getComputedStyle(t)}function H(t){return t instanceof R(t).Node}function Y(t){return H(t)?(t.nodeName||"").toLowerCase():""}let U;function K(){if(U)return U;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(U=t.brands.map((t=>t.brand+"/"+t.version)).join(" "),U):navigator.userAgent}function z(t){return t instanceof R(t).HTMLElement}function X(t){return t instanceof R(t).Element}function G(t){if("undefined"==typeof ShadowRoot)return!1;return t instanceof R(t).ShadowRoot||t instanceof ShadowRoot}function Z(t){const{overflow:e,overflowX:s,overflowY:i,display:n}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+s)&&!["inline","contents"].includes(n)}function J(t){return["table","td","th"].includes(Y(t))}function Q(t){const e=/firefox/i.test(K()),s=V(t),i=s.backdropFilter||s.WebkitBackdropFilter;return"none"!==s.transform||"none"!==s.perspective||!!i&&"none"!==i||e&&"filter"===s.willChange||e&&!!s.filter&&"none"!==s.filter||["transform","perspective"].some((t=>s.willChange.includes(t)))||["paint","layout","strict","content"].some((t=>{const e=s.contain;return null!=e&&e.includes(t)}))}function tt(){return/^((?!chrome|android).)*safari/i.test(K())}function et(t){return["html","body","#document"].includes(Y(t))}const st=Math.min,it=Math.max,nt=Math.round;function ot(t){const e=V(t);let s=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=z(t),o=n?t.offsetWidth:s,a=n?t.offsetHeight:i,l=nt(s)!==o||nt(i)!==a;return l&&(s=o,i=a),{width:s,height:i,fallback:l}}function at(t){return X(t)?t:t.contextElement}const lt={x:1,y:1};function rt(t){const e=at(t);if(!z(e))return lt;const s=e.getBoundingClientRect(),{width:i,height:n,fallback:o}=ot(e);let a=(o?nt(s.width):s.width)/i,l=(o?nt(s.height):s.height)/n;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}function ht(t,e,s,i){var n,o;void 0===e&&(e=!1),void 0===s&&(s=!1);const a=t.getBoundingClientRect(),l=at(t);let r=lt;e&&(i?X(i)&&(r=rt(i)):r=rt(t));const h=l?R(l):window,c=tt()&&s;let d=(a.left+(c&&(null==(n=h.visualViewport)?void 0:n.offsetLeft)||0))/r.x,u=(a.top+(c&&(null==(o=h.visualViewport)?void 0:o.offsetTop)||0))/r.y,p=a.width/r.x,m=a.height/r.y;if(l){const t=R(l),e=i&&X(i)?R(i):i;let s=t.frameElement;for(;s&&i&&e!==t;){const t=rt(s),e=s.getBoundingClientRect(),i=getComputedStyle(s);e.x+=(s.clientLeft+parseFloat(i.paddingLeft))*t.x,e.y+=(s.clientTop+parseFloat(i.paddingTop))*t.y,d*=t.x,u*=t.y,p*=t.x,m*=t.y,d+=e.x,u+=e.y,s=R(s).frameElement}}return I({width:p,height:m,x:d,y:u})}function ct(t){return((H(t)?t.ownerDocument:t.document)||window.document).documentElement}function dt(t){return X(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ut(t){return ht(ct(t)).left+dt(t).scrollLeft}function pt(t){if("html"===Y(t))return t;const e=t.assignedSlot||t.parentNode||G(t)&&t.host||ct(t);return G(e)?e.host:e}function mt(t){const e=pt(t);return et(e)?e.ownerDocument.body:z(e)&&Z(e)?e:mt(e)}function gt(t,e){var s;void 0===e&&(e=[]);const i=mt(t),n=i===(null==(s=t.ownerDocument)?void 0:s.body),o=R(i);return n?e.concat(o,o.visualViewport||[],Z(i)?i:[]):e.concat(i,gt(i))}function bt(t,e,s){let i;if("viewport"===e)i=function(t,e){const s=R(t),i=ct(t),n=s.visualViewport;let o=i.clientWidth,a=i.clientHeight,l=0,r=0;if(n){o=n.width,a=n.height;const t=tt();(!t||t&&"fixed"===e)&&(l=n.offsetLeft,r=n.offsetTop)}return{width:o,height:a,x:l,y:r}}(t,s);else if("document"===e)i=function(t){const e=ct(t),s=dt(t),i=t.ownerDocument.body,n=it(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=it(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-s.scrollLeft+ut(t);const l=-s.scrollTop;return"rtl"===V(i).direction&&(a+=it(e.clientWidth,i.clientWidth)-n),{width:n,height:o,x:a,y:l}}(ct(t));else if(X(e))i=function(t,e){const s=ht(t,!0,"fixed"===e),i=s.top+t.clientTop,n=s.left+t.clientLeft,o=z(t)?rt(t):{x:1,y:1};return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:n*o.x,y:i*o.y}}(e,s);else{const s={...e};if(tt()){var n,o;const e=R(t);s.x-=(null==(n=e.visualViewport)?void 0:n.offsetLeft)||0,s.y-=(null==(o=e.visualViewport)?void 0:o.offsetTop)||0}i=s}return I(i)}function vt(t,e){const s=pt(t);return!(s===e||!X(s)||et(s))&&("fixed"===V(s).position||vt(s,e))}function ft(t,e){return z(t)&&"fixed"!==V(t).position?e?e(t):t.offsetParent:null}function yt(t,e){const s=R(t);if(!z(t))return s;let i=ft(t,e);for(;i&&J(i)&&"static"===V(i).position;)i=ft(i,e);return i&&("html"===Y(i)||"body"===Y(i)&&"static"===V(i).position&&!Q(i))?s:i||function(t){let e=pt(t);for(;z(e)&&!et(e);){if(Q(e))return e;e=pt(e)}return null}(t)||s}function wt(t,e,s){const i=z(e),n=ct(e),o=ht(t,!0,"fixed"===s,e);let a={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(i||!i&&"fixed"!==s)if(("body"!==Y(e)||Z(n))&&(a=dt(e)),z(e)){const t=ht(e,!0);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else n&&(l.x=ut(n));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}const Et={getClippingRect:function(t){let{element:e,boundary:s,rootBoundary:i,strategy:n}=t;const o=[..."clippingAncestors"===s?function(t,e){const s=e.get(t);if(s)return s;let i=gt(t).filter((t=>X(t)&&"body"!==Y(t))),n=null;const o="fixed"===V(t).position;let a=o?pt(t):t;for(;X(a)&&!et(a);){const e=V(a),s=Q(a);s||"fixed"!==e.position||(n=null),(o?!s&&!n:!s&&"static"===e.position&&n&&["absolute","fixed"].includes(n.position)||Z(a)&&!s&&vt(t,a))?i=i.filter((t=>t!==a)):n=e,a=pt(a)}return e.set(t,i),i}(e,this._c):[].concat(s),i],a=o[0],l=o.reduce(((t,s)=>{const i=bt(e,s,n);return t.top=it(i.top,t.top),t.right=st(i.right,t.right),t.bottom=st(i.bottom,t.bottom),t.left=it(i.left,t.left),t}),bt(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:s,strategy:i}=t;const n=z(s),o=ct(s);if(s===o)return e;let a={scrollLeft:0,scrollTop:0},l={x:1,y:1};const r={x:0,y:0};if((n||!n&&"fixed"!==i)&&(("body"!==Y(s)||Z(o))&&(a=dt(s)),z(s))){const t=ht(s);l=rt(s),r.x=t.x+s.clientLeft,r.y=t.y+s.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-a.scrollLeft*l.x+r.x,y:e.y*l.y-a.scrollTop*l.y+r.y}},isElement:X,getDimensions:function(t){return ot(t)},getOffsetParent:yt,getDocumentElement:ct,getScale:rt,async getElementRects(t){let{reference:e,floating:s,strategy:i}=t;const n=this.getOffsetParent||yt,o=this.getDimensions;return{reference:wt(e,await n(s),i),floating:{x:0,y:0,...await o(s)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===V(t).direction},Ct=(t,e,s)=>{const i=new Map,n={platform:Et,...s},o={...n.platform,_c:i};return(async(t,e,s)=>{const{placement:i="bottom",strategy:n="absolute",middleware:o=[],platform:a}=s,l=o.filter(Boolean),r=await(null==a.isRTL?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:n}),{x:c,y:d}=A(h,i,r),u=i,p={},m=0;for(let s=0;s<l.length;s++){const{name:o,fn:g}=l[s],{x:b,y:v,data:f,reset:y}=await g({x:c,y:d,initialPlacement:i,placement:u,strategy:n,middlewareData:p,rects:h,platform:a,elements:{reference:t,floating:e}});c=null!=b?b:c,d=null!=v?v:d,p={...p,[o]:{...p[o],...f}},y&&m<=50&&(m++,"object"==typeof y&&(y.placement&&(u=y.placement),y.rects&&(h=!0===y.rects?await a.getElementRects({reference:t,floating:e,strategy:n}):y.rects),({x:c,y:d}=A(h,u,r))),s=-1)}return{x:c,y:d,placement:u,strategy:n,middlewareData:p}})(t,e,{...n,platform:o})};class kt{constructor(t){this.element=t,this.popoverId=this.element.getAttribute("aria-controls"),this.popoverPosition=this.element.dataset.popoverPosition||"bottom",this.popoverGap=this.element.dataset.popoverGap||5,this.popoverAnchor=this.element.querySelector("[data-anchor]")||this.element,this.popoverElement=this.popoverId&&document.querySelector(`#${this.popoverId}`),this.popoverVisibleClass="active",this.popoverContent=!1,this.popoverIsOpen=!1,this.firstFocusable=null,this.lastFocusable=null}init(){this.popoverElement&&(this.constructor.setAttributes(this.element,{tabindex:"0","aria-haspopup":"dialog"}),this.initEvents())}initEvents(){this.element.addEventListener("click",this.togglePopover.bind(this)),this.element.addEventListener("keyup",(t=>{(t.code&&"enter"===t.code.toLowerCase()||t.key&&"enter"===t.key.toLowerCase())&&this.togglePopover()})),window.addEventListener("DOMContentLoaded",(()=>{this.popoverContent=this.popoverElement.innerHTML})),this.popoverElement.addEventListener("keydown",this.trapFocus.bind(this)),window.addEventListener("click",(t=>{this.checkPopoverClick(t.target)})),window.addEventListener("keyup",(t=>{(t.code&&"escape"===t.code.toLowerCase()||t.key&&"escape"===t.key.toLowerCase())&&this.checkPopoverFocus()})),this.debouncedTogglePopover=this.constructor.debounce((()=>{this.popoverIsOpen&&this.togglePopover()}),300),window.addEventListener("resize",this.debouncedTogglePopover),window.addEventListener("scroll",this.debouncedTogglePopover)}static debounce(t,e){let s;return function(){for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];clearTimeout(s),s=setTimeout((()=>{clearTimeout(s),t(...n)}),e)}}togglePopover(){this.popoverElement.classList.contains("active")?this.hidePopover():(this.popoverElement.focus(),this.showPopover())}showPopover(){this.constructor.setAttributes(this.popoverElement,{tabindex:"0",role:"dialog"}),this.popoverElement.setAttribute("aria-expanded","true"),this.popoverElement.classList.add("active"),this.popoverIsOpen=!0,this.getFocusableElements(),this.popoverElement.focus({preventScroll:!0}),this.element.addEventListener("transitionend",(()=>{this.focusPopover()}),{once:!0}),this.updatePopover(this.popoverElement,this.popoverPosition)}hidePopover(){this.popoverElement.setAttribute("aria-expanded","false"),this.popoverElement.classList.remove("active"),this.popoverIsOpen=!1}async updatePopover(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.popoverAnchor;try{const{x:n,y:o}=await Ct(s,t,{placement:e,middleware:[P(parseInt(this.popoverGap,10)),B({fallbackAxisSideDirection:"start",crossAxis:!1}),W({limiter:(void 0===i&&(i={}),{options:i,fn(t){const{x:e,y:s,placement:n,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:r=!0,crossAxis:h=!0}=i,c={x:e,y:s},d=L(n),u=O(d);let p=c[d],m=c[u];const g="function"==typeof l?l(t):l,b="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(r){const t="y"===d?"height":"width",e=o.reference[d]-o.floating[t]+b.mainAxis,s=o.reference[d]+o.reference[t]-b.mainAxis;p<e?p=e:p>s&&(p=s)}if(h){var v,f;const t="y"===d?"width":"height",e=["top","left"].includes(x(n)),s=o.reference[u]-o.floating[t]+(e&&(null==(v=a.offset)?void 0:v[u])||0)+(e?0:b.crossAxis),i=o.reference[u]+o.reference[t]+(e?0:(null==(f=a.offset)?void 0:f[u])||0)-(e?b.crossAxis:0);m<s?m=s:m>i&&(m=i)}return{[d]:p,[u]:m}}})})]});Object.assign(t.style,{left:`${n}px`,top:`${o}px`})}catch(t){console.error("Error updating popover position:",t)}var i}checkPopoverClick(t){this.popoverIsOpen&&(this.popoverElement.contains(t)||t.closest(`[aria-controls="${this.popoverId}"]`)||this.togglePopover())}checkPopoverFocus(){this.popoverIsOpen&&(this.constructor.moveFocus(this.element),this.togglePopover())}focusPopover(){this.firstFocusable?this.firstFocusable.focus({preventScroll:!0}):this.constructor.moveFocus(this.popoverElement)}getFocusableElements(){const t=this.popoverElement.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(t),this.getLastVisible(t)}getFirstVisible(t){for(let e=0;e<t.length;e+=1)if(this.constructor.isVisible(t[e])){this.firstFocusable=t[e];break}}getLastVisible(t){for(let e=t.length-1;e>=0;e-=1)if(this.constructor.isVisible(t[e])){this.lastFocusable=t[e];break}}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!==document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())}static isVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}static moveFocus(t){t.focus({preventScroll:!0}),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}static setAttributes(t,e){Object.keys(e).forEach((s=>t.setAttribute(s,e[s])))}}class xt{constructor(t){this.element=t,this.select=this.element.querySelector("select"),this.optGroups=this.select&&this.select.getElementsByTagName("optgroup"),this.options=this.select&&this.select.getElementsByTagName("option"),this.selectId=this.select&&this.select.getAttribute("id"),this.trigger=!1,this.dropdown=!1,this.customOptions=!1,this.list=!1,this.allButton=!1,this.arrowIcon=this.element.getElementsByTagName("svg"),this.label=document.querySelector(`[for="${this.selectId}"]`),this.selectedOptCounter=0,this.optionIndex=0,this.noSelectText=this.element.getAttribute("data-select-text")||"Select",this.multiSelectText=this.element.getAttribute("data-multi-select-text")||"{n} items selected",this.nMultiSelect=this.element.getAttribute("data-n-multi-select")||1,this.noUpdateLabel=this.element.getAttribute("data-update-text")&&"off"===this.element.getAttribute("data-update-text"),this.insetLabel=this.element.getAttribute("data-inset-label")&&"on"===this.element.getAttribute("data-inset-label"),this.hideClass="nsw-display-none",this.showClass="active",this.errorClass="has-error",this.srClass="sr-only",this.prefix="nsw-",this.class="multi-select",this.buttonClass=`${this.class}__button`,this.allButtonClass=`${this.class}__all`,this.listClass=`${this.class}__list`,this.optionClass=`${this.class}__option`,this.dropdownClass=`${this.class}__dropdown`,this.checkboxClass=`${this.class}__checkbox`,this.itemClass=`${this.class}__item`,this.labelClass=`${this.class}__label`,this.termClass=`${this.class}__term`,this.detailsClass=`${this.class}__details`,this.selectClass="form__select",this.checkboxLabelClass="form__checkbox-label",this.checkboxInputClass="form__checkbox-input"}init(){this.select&&(this.element.insertAdjacentHTML("beforeend",this.initButtonSelect()+this.initListSelect()),this.dropdown=this.element.querySelector(`.js-${this.dropdownClass}`),this.trigger=this.element.querySelector(`.js-${this.buttonClass}`),this.customOptions=this.dropdown.querySelectorAll(`.js-${this.optionClass}`),this.list=this.dropdown.querySelector(`.js-${this.listClass}`),this.list.insertAdjacentHTML("afterbegin",this.initAllButton()),this.allButton=this.list.querySelector(`.js-${this.allButtonClass}`),this.select.classList.add(this.hideClass),this.arrowIcon.length>0&&(this.arrowIcon[0].style.display="none"),this.initCustomSelectEvents(),this.updateAllButton())}initCustomSelectEvents(){this.initSelection(),this.trigger.addEventListener("click",(t=>{t.preventDefault(),this.toggleCustomSelect(!1)})),this.label&&this.label.addEventListener("click",(()=>{this.constructor.moveFocusFn(this.trigger)})),this.dropdown.addEventListener("keydown",(t=>{t.key&&"arrowup"===t.key.toLowerCase()?this.keyboardCustomSelect("prev",t):t.key&&"arrowdown"===t.key.toLowerCase()&&this.keyboardCustomSelect("next",t)})),window.addEventListener("keyup",(t=>{t.key&&"escape"===t.key.toLowerCase()&&(this.moveFocusToSelectTrigger(),this.toggleCustomSelect("false"))})),window.addEventListener("click",(t=>{this.checkCustomSelectClick(t.target)}))}toggleCustomSelect(t){let e;if(e=t||("true"===this.trigger.getAttribute("aria-expanded")?"false":"true"),this.trigger.setAttribute("aria-expanded",e),"true"===e){const t=this.getSelectedOption()||this.allButton;this.constructor.moveFocusFn(t);const e=()=>{this.constructor.moveFocusFn(t),this.dropdown.removeEventListener("transitionend",e)};this.dropdown.addEventListener("transitionend",e),this.constructor.trapFocus(this.dropdown),this.placeDropdown()}}placeDropdown(){const{top:t,bottom:e,left:s}=this.trigger.getBoundingClientRect();this.dropdown.classList.toggle(`${this.prefix}${this.dropdownClass}--right`,window.innerWidth<s+this.dropdown.offsetWidth);const i=window.innerHeight-e<t;this.dropdown.classList.toggle(`${this.prefix}${this.dropdownClass}--up`,i);const n=i?t-20:window.innerHeight-e-20,o=Math.ceil(100*n/window.innerHeight);this.dropdown.setAttribute("style",`max-height: ${o}vh;`)}keyboardCustomSelect(t,e){e.preventDefault();const s=[...this.customOptions,this.allButton];let i=s.findIndex((t=>t===document.activeElement.closest(`.js-${this.optionClass}`)));i="next"===t?i+1:i-1,i<0&&(i=s.length-1),i>=s.length&&(i=0);const n=s[i].querySelector(`.js-${this.checkboxClass}`)||this.allButton;this.constructor.moveFocusFn(n)}toggleAllButton(){const t=!this.allButton.classList.contains(this.showClass);this.allButton.classList.toggle(this.showClass,t);const[e,s,i]=this.getOptions();e.forEach((t=>{t.setAttribute("aria-selected","false"),this.selectOption(t)})),i===s&&e.forEach((t=>this.selectOption(t)))}initSelection(){this.allButton.addEventListener("click",(t=>{t.preventDefault(),this.toggleAllButton()})),this.dropdown.addEventListener("change",(t=>{const e=t.target.closest(`.js-${this.optionClass}`);e&&this.selectOption(e)})),this.dropdown.addEventListener("click",(t=>{const e=t.target.closest(`.js-${this.optionClass}`);e&&t.target.classList.contains(`js-${this.optionClass}`)&&this.selectOption(e)}))}selectOption(t){const e=t.querySelector(`.js-${this.checkboxClass}`);t.hasAttribute("aria-selected")&&"true"===t.getAttribute("aria-selected")?(e.checked=!1,e.removeAttribute("checked"),t.setAttribute("aria-selected","false"),this.updateNativeSelect(t.getAttribute("data-index"),!1)):(e.checked=!0,e.value=!0,e.setAttribute("checked",""),t.setAttribute("aria-selected","true"),this.updateNativeSelect(t.getAttribute("data-index"),!0));const s=this.getSelectedOptionText(),[i]=s;this.trigger.querySelector(`.js-${this.labelClass}`).innerHTML=i,this.trigger.classList.toggle(`${this.prefix}${this.buttonClass}--active`,this.selectedOptCounter>0),this.updateTriggerAria(s[1]),this.updateAllButton()}updateAllButton(){const[,t,e]=this.getOptions();e===t?this.allButton.classList.add(this.showClass):this.allButton.classList.remove(this.showClass)}updateNativeSelect(t,e){this.options[t].selected=e,this.select.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}updateTriggerAria(t){this.trigger.setAttribute("aria-label",t)}getSelectedOptionText(){const t=`<span class="${this.prefix}${this.termClass}">${this.noSelectText}</span>`;if(this.noUpdateLabel)return[t,this.noSelectText];let e="",s="";this.selectedOptCounter=0;for(let t=0;t<this.options.length;t+=1)this.options[t].selected&&(0!==this.selectedOptCounter&&(e+=", "),e=`${e}${this.options[t].text}`,this.selectedOptCounter+=1);return this.selectedOptCounter>this.nMultiSelect?(e=`<span class="${this.prefix}${this.detailsClass}">${this.multiSelectText.replace("{n}",this.selectedOptCounter)}</span>`,s=`${this.multiSelectText.replace("{n}",this.selectedOptCounter)}, ${this.noSelectText}`):this.selectedOptCounter>0?(s=`${e}, ${this.noSelectText}`,e=`<span class="${this.prefix}${this.detailsClass}">${e}</span>`):(e=t,s=this.noSelectText),this.insetLabel&&this.selectedOptCounter>0&&(e=t+e),[e,s]}initButtonSelect(){const t=this.element.getAttribute("data-trigger-class")?` ${this.element.getAttribute("data-trigger-class")}`:"",e=this.select.getAttribute("aria-invalid"),s=this.getSelectedOptionText(),i=this.selectedOptCounter>0?` ${this.buttonClass}--active`:"";let n=`<button class="js-${this.buttonClass} ${"true"===e?this.errorClass:""} ${this.prefix}${this.selectClass} ${this.prefix}${this.buttonClass}${t}${i}" aria-label="${s[1]}" aria-expanded="false" aria-controls="${this.selectId}-dropdown"><span aria-hidden="true" class="js-${this.labelClass} ${this.prefix}${this.labelClass}">${s[0]}</span><span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">keyboard_arrow_down</span>`;return this.arrowIcon.length>0&&this.arrowIcon[0].outerHTML&&(n+=this.arrowIcon[0].outerHTML),`${n}</button>`}initListSelect(){let t=`<div class="js-${this.dropdownClass} ${this.prefix}${this.dropdownClass}" aria-describedby="${this.selectId}-description" id="${this.selectId}-dropdown">`;if(t+=this.getSelectLabelSR(),this.optGroups.length>0)for(let e=0;e<this.optGroups.length;e+=1){const s=this.optGroups[e].getElementsByTagName("option"),i=`<li><span class="${this.prefix}${this.itemClass} ${this.prefix}${this.itemClass}--optgroup">${this.optGroups[e].getAttribute("label")}</span></li>`;t=`${t}<ul class="${this.prefix}${this.listClass}" role="listbox" aria-multiselectable="true">${i}${this.getOptionsList(s)}</ul>`}else t=`${t}<ul class="${this.prefix}${this.listClass} js-${this.listClass}" role="listbox" aria-multiselectable="true">${this.getOptionsList(this.options)}</ul>`;return t}initAllButton(){return`<button class="${this.prefix}${this.allButtonClass} js-${this.allButtonClass}"><span>All</span></button>`}getSelectLabelSR(){return this.label?`<p class="${this.srClass}" id="${this.selectId}-description">${this.label.textContent}</p>`:""}getOptionsList(t){let e="";for(let s=0;s<t.length;s+=1){const i=t[s].hasAttribute("selected")?' aria-selected="true"':' aria-selected="false"',n=t[s].hasAttribute("disabled")?"disabled":"",o=t[s].hasAttribute("selected")?"checked":"",a=this.constructor.createSafeCss(`${this.selectId}-${t[s].value}-${this.optionIndex.toString()}`);e=`${e}<li class="js-${this.optionClass}" role="option" data-value="${t[s].value}" ${i} data-label="${t[s].text}" data-index="${this.optionIndex}"><input aria-hidden="true" class="${this.prefix}${this.checkboxInputClass} js-${this.checkboxClass}" type="checkbox" id="${a}" ${o} ${n}><label class="${this.prefix}${this.checkboxLabelClass} ${this.prefix}${this.itemClass} ${this.prefix}${this.itemClass}--option" aria-hidden="true" for="${a}"><span>${t[s].text}</span></label></li>`,this.optionIndex+=1}return e}getSelectedOption(){const t=this.dropdown.querySelector('[aria-selected="true"]');return t?t.querySelector(`.js-${this.checkboxClass}`):this.allButton}getOptions(){const t=Array.from(this.dropdown.querySelectorAll(`.js-${this.optionClass}`)),e=t.length,s=t.filter((t=>"true"===t.getAttribute("aria-selected"))).length;return[t,e,s]}moveFocusToSelectTrigger(){document.activeElement.closest(`.js-${this.class}`)&&this.trigger.focus()}static trapFocus(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])',s=t.querySelectorAll(e)[0],i=t.querySelectorAll(e),n=i[i.length-1];document.addEventListener("keydown",(t=>{("Tab"===t.key||9===t.code)&&(t.shiftKey?document.activeElement===s&&(n.focus(),t.preventDefault()):document.activeElement===n&&(s.focus(),t.preventDefault()))})),s.focus()}checkCustomSelectClick(t){this.element.contains(t)||this.toggleCustomSelect("false")}static createSafeCss(t){if("string"!=typeof t)return"";const e=t.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((t=>t.toLowerCase())).join("-");return/^([0-9]|--|-[0-9])/.test(e)?`_${e}`:e}static moveFocusFn(t){t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}}class Lt{constructor(t){this.element=t,this.originalButton=document.querySelector(".js-open-search"),this.targetElement=document.getElementById(this.element.getAttribute("aria-controls")),this.searchInput=this.targetElement.querySelector("input.js-search-input"),this.pressed="true"===this.element.getAttribute("aria-expanded")}init(){this.originalButton&&this.controls()}controls(){this.element.addEventListener("click",this.showHide.bind(this),!1)}showHide(){this.pressed?(this.targetElement.hidden=!0,this.originalButton.hidden=!1,this.originalButton.focus()):(this.targetElement.hidden=!1,this.originalButton.hidden=!0,this.searchInput.focus())}}class At{constructor(t,e){this.element=t,this.tablistClass=".nsw-tabs__list",this.tablistItemClass="li",this.tablistLinkClass="a",this.showTab=e,this.tabList=this.element.querySelector(this.tablistClass),this.tabItems=this.tabList&&this.tabList.querySelectorAll(this.tablistItemClass),this.allowedKeys=[35,36,37,39,40],this.tabLinks=[],this.tabPanel=[],this.selectedTab=null,this.clickTabEvent=t=>this.clickTab(t),this.arrowKeysEvent=t=>this.arrowKeys(t),this.owns=[]}init(){this.tabList&&(this.setUpDom(),this.controls(),this.setInitalTab())}setUpDom(){const t=document.createElement("div");t.classList.add("nsw-tabs__list-wrapper"),this.element.prepend(t),t.prepend(this.tabList),this.tabList.setAttribute("role","tablist"),this.tabItems.forEach((t=>{const e=t,s=t.querySelector(this.tablistLinkClass),i=this.element.querySelector(s.hash),n=l("tab");this.owns.push(n),e.setAttribute("role","presentation"),this.enhanceTabLink(s,n),this.enhanceTabPanel(i,n)})),this.tabList.setAttribute("aria-owns",this.owns.join(" "))}enhanceTabLink(t,e){t.setAttribute("role","tab"),t.setAttribute("id",e),t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this.tabLinks.push(t)}enhanceTabPanel(t,e){const s=t;s.setAttribute("role","tabpanel"),s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledBy",e),s.setAttribute("tabindex","0"),s.hidden=!0,this.tabPanel.push(s)}setInitalTab(){const{tabLinks:t,tabPanel:e,showTab:s}=this,i=void 0===s?0:s,n=t[i];n.classList.add("active"),n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),e[i].hidden=!1,this.selectedTab=n}clickTab(t){t.preventDefault(),this.switchTabs(t.currentTarget)}switchTabs(t){const e=t;if(e!==this.selectedTab){e.focus(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),e.classList.add("active"),this.selectedTab.setAttribute("aria-selected",!1),this.selectedTab.setAttribute("tabindex","-1"),this.selectedTab.classList.remove("active");const t=this.tabLinks.indexOf(e),s=this.tabLinks.indexOf(this.selectedTab);this.tabPanel[t].hidden=!1,this.tabPanel[s].hidden=!0,this.selectedTab=e,e.classList.contains("js-tabs-fixed")||e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}arrowKeys(t){let{which:e}=t;const s=this.tabLinks.length-1;let i=this.tabLinks.indexOf(this.selectedTab),n=!1;if(this.allowedKeys.includes(e)){switch(e){case 35:i=s;break;case 36:i=0;break;case 37:i=0===i?-1:i-=1;break;case 39:i=i===s?-1:i+=1;break;case 40:n=!0}i>-1&&(n?this.tabPanel[i].focus():this.switchTabs(this.tabLinks[i]))}}controls(){this.tabLinks.forEach((t=>{t.addEventListener("click",this.clickTabEvent,!1),t.addEventListener("keydown",this.arrowKeysEvent,!1)}))}}function St(t,e){function s(t,e){const s=e.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(t)||!s.includes("javascript:")&&!s.includes("data:text/html"))||!!t.startsWith("on")}function i(t){const e=t.attributes;for(const{name:i,value:n}of e)s(i,n)&&t.removeAttribute(i)}const n=(new DOMParser).parseFromString(t,"text/html").body||document.createElement("body");return function(t){const e=t.querySelectorAll("script");for(const t of e)t.remove()}(n),function t(e){const s=e.children;for(const e of s)i(e),t(e)}(n),e?n.childNodes:n.innerHTML}class It{constructor(t){this.toggletip=t,this.toggletipId=this.toggletip.getAttribute("aria-controls"),this.toggletipElement=this.toggletipId&&document.querySelector(`#${this.toggletipId}`),this.toggletipContent=!1,this.toggletipAnchor=this.toggletip.querySelector("[data-anchor]")||this.toggletip,this.toggletipText=this.toggletip.innerText,this.toggletipHeading=this.toggletip.getAttribute("data-title")||this.toggletipText,this.arrowElement=!1,this.closeButton=!1,this.toggletipIsOpen=!1,this.toggletipVisibleClass="active",this.firstFocusable=!1,this.lastFocusable=!1}init(){this.toggletipElement&&(this.constructor.setAttributes(this.toggletip,{tabindex:"0","aria-haspopup":"dialog"}),this.initEvents())}initEvents(){this.toggletip.addEventListener("click",this.toggleToggletip.bind(this)),this.toggletip.addEventListener("keyup",(t=>{(t.code&&"enter"===t.code.toLowerCase()||t.key&&"enter"===t.key.toLowerCase())&&this.toggleToggletip()})),window.addEventListener("DOMContentLoaded",(()=>{this.toggletipContent=this.toggletipElement.innerHTML})),this.toggletipElement.addEventListener("keydown",this.trapFocus.bind(this)),window.addEventListener("click",(t=>{this.checkToggletipClick(t.target)})),window.addEventListener("keyup",(t=>{(t.code&&"escape"===t.code.toLowerCase()||t.key&&"escape"===t.key.toLowerCase())&&this.checkToggletipFocus()})),window.addEventListener("resize",(()=>{this.toggletipIsOpen&&this.toggleToggletip()})),window.addEventListener("scroll",(()=>{this.toggletipIsOpen&&this.toggleToggletip()}))}toggleToggletip(){this.toggletipElement.classList.contains("active")?this.hideToggletip():(this.toggletipElement.focus(),this.showToggletip())}createToggletipElement(){if(this.toggletipElement){this.toggletipElement.innerHTML="";const t=`\n      <div class="nsw-toggletip__header">\n        <div id="nsw-toggletip__header" class="sr-only">${St(this.toggletipHeading)}</div>\n        <button type="button" class="nsw-icon-button">\n          <span class="sr-only">Remove file</span>\n          <span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">close</span>\n        </button>\n      </div>\n      <div id="nsw-toggletip__content" class="nsw-toggletip__content">\n        ${St(this.toggletipContent)}\n      </div>\n      <div class="nsw-toggletip__arrow"></div>`;this.toggletipElement.insertAdjacentHTML("afterbegin",t)}this.constructor.setAttributes(this.toggletipElement,{"aria-labelledby":"nsw-toggletip__header","aria-describedby":"nsw-toggletip__content","aria-expanded":"false",tabindex:"0",role:"dialog"})}showToggletip(){this.createToggletipElement(),this.arrowElement=this.toggletipElement.querySelector(".nsw-toggletip__arrow"),this.closeButton=this.toggletipElement.querySelector(".nsw-icon-button"),this.toggletipElement.setAttribute("aria-expanded","true"),this.toggletipElement.classList.add("active"),this.toggletipIsOpen=!0,this.getFocusableElements(),this.toggletipElement.focus({preventScroll:!0}),this.toggletip.addEventListener("transitionend",(()=>{this.focusToggletip()}),{once:!0}),this.updateToggletip(this.toggletipElement,this.arrowElement),this.closeButton.addEventListener("click",this.toggleToggletip.bind(this))}hideToggletip(){this.toggletipElement.setAttribute("aria-expanded","false"),this.toggletipElement.classList.remove("active"),this.toggletipIsOpen=!1}updateToggletip(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.toggletipAnchor;Ct(s,t,{placement:"top",middleware:[P(8),B(),W({padding:5}),N({element:e})]}).then((s=>{let{x:i,y:n,placement:o,middlewareData:a}=s;Object.assign(t.style,{left:`${i}px`,top:`${n}px`});const{x:l,y:r}=a.arrow,h={top:"bottom",right:"left",bottom:"top",left:"right"}[o.split("-")[0]];Object.assign(e.style,{left:null!=l?`${l}px`:"",top:null!=r?`${r}px`:"",right:"",bottom:"",[h]:"-6px"})}))}checkToggletipClick(t){this.toggletipIsOpen&&(this.toggletipElement.contains(t)||t.closest(`[aria-controls="${this.toggletipId}"]`)||this.toggleToggletip())}checkToggletipFocus(){this.toggletipIsOpen&&(this.constructor.moveFocus(this.toggletip),this.toggleToggletip())}focusToggletip(){this.firstFocusable?this.firstFocusable.focus({preventScroll:!0}):this.constructor.moveFocus(this.toggletipElement)}getFocusableElements(){const t=this.toggletipElement.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');this.getFirstVisible(t),this.getLastVisible(t)}getFirstVisible(t){for(let e=0;e<t.length;e+=1)if(this.constructor.isVisible(t[e])){this.firstFocusable=t[e];break}}getLastVisible(t){for(let e=t.length-1;e>=0;e-=1)if(this.constructor.isVisible(t[e])){this.lastFocusable=t[e];break}}trapFocus(t){this.firstFocusable===document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!==document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())}static isVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}static moveFocus(t){t.focus({preventScroll:!0}),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())}static setAttributes(t,e){Object.keys(e).forEach((s=>t.setAttribute(s,e[s])))}}class Tt{constructor(t){this.tooltip=t,this.uID=l("tooltip"),this.tooltipElement=!1,this.arrowElement=!1,this.tooltipContent=!1,this.tooltipDelay=400,this.screenSize=!1,this.tooltipTheme=this.tooltip.getAttribute("data-theme")||"dark"}init(){if(this.tooltipContent=this.tooltip.getAttribute("title"),!this.tooltipContent)return;this.constructor.setAttributes(this.tooltip,{"data-tooltip-content":this.tooltipContent,"aria-describedby":this.uID,tabindex:"0"}),this.tooltip.removeAttribute("title");["mouseenter","mouseleave","focus","blur"].forEach(((t,e)=>{let{listener:s=this.handleEvent.bind(this)}=e;this.tooltip.addEventListener(t,s)}))}handleEvent(t){switch(t.type){case"mouseenter":case"focus":this.showTooltip(this,t);break;case"mouseleave":case"blur":this.hideTooltip(this,t);break;default:console.log(`Unexpected event type: ${t.type}`)}}createTooltipElement(){this.tooltipElement||(this.tooltipElement=document.createElement("div"),document.body.appendChild(this.tooltipElement)),this.constructor.setAttributes(this.tooltipElement,{id:this.uID,class:`nsw-tooltip__element nsw-tooltip__element--${this.tooltipTheme}`,role:"tooltip"}),this.tooltip&&(this.arrowElement=document.createElement("div"),this.arrowElement.className="nsw-tooltip__arrow"),this.tooltipContent=this.tooltip.getAttribute("data-tooltip-content"),this.tooltipElement.innerHTML=this.tooltipContent,this.tooltipElement.insertAdjacentElement("beforeend",this.arrowElement)}showTooltip(){setTimeout((()=>{this.createTooltipElement(),this.tooltipElement.classList.add("active");const t=document.createRange(),e=this.tooltipElement.childNodes[0];t.setStartBefore(e),t.setEndAfter(e);const s=t.getBoundingClientRect();this.matchMedia(),this.tooltipElement.style.width=`${s.width+this.screenSize}px`,this.updateTooltip(this.tooltipElement,this.arrowElement)}),this.tooltipDelay)}hideTooltip(){setTimeout((()=>{this.tooltipElement.classList.remove("active"),this.tooltipElement.style.width=""}),this.tooltipDelay)}matchMedia(){window.matchMedia("(min-width: 576px)").matches?this.screenSize=32:this.screenSize=16}updateTooltip(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.tooltip;Ct(s,t,{placement:"top",middleware:[P(8),B(),W({padding:5}),N({element:e})]}).then((s=>{let{x:i,y:n,placement:o,middlewareData:a}=s;Object.assign(t.style,{left:`${i}px`,top:`${n}px`});const{x:l,y:r}=a.arrow,h={top:"bottom",right:"left",bottom:"top",left:"right"}[o.split("-")[0]];Object.assign(e.style,{left:null!=l?`${l}px`:"",top:null!=r?`${r}px`:"",right:"",bottom:"",[h]:"-6px"})}))}static setAttributes(t,e){Object.keys(e).forEach((s=>t.setAttribute(s,e[s])))}}class $t extends It{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.querySelector(".js-share");super(null===e?t:e),this.element=t,this.share=e,this.print=this.element.querySelectorAll(".js-print-page"),this.download=this.element.querySelectorAll(".js-download-page"),this.copy=this.element.querySelectorAll(".js-copy-clipboard"),this.shareItems=this.share&&this.share.querySelectorAll("a"),this.urlLocation=window.location.href,this.copyElement=!1}init(){this.share&&(super.init(),this.shareItems.forEach((t=>{t.getAttribute("data-url")||t.setAttribute("data-url",window.location.href)})),this.share.addEventListener("click",(t=>{const e=t.target.closest("a");if(!e)return;t.preventDefault();const s=e.getAttribute("data-social"),i=this.getSocialUrl(e,s);"mail"===s?window.location.href=i:window.open(i,`${s}-share-dialog`,"width=626,height=436")}))),this.print&&this.print.forEach((t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",(()=>{window.print()})),t.addEventListener("keyup",(t=>{(t.code&&"enter"===t.code.toLowerCase()||t.key&&"enter"===t.key.toLowerCase())&&window.print()}))})),this.download&&this.download.forEach((t=>{t.setAttribute("tabindex","0")})),this.copy&&this.copy.forEach((t=>{t.setAttribute("tabindex","0"),t.addEventListener("click",(()=>{this.copyToClipboard(t)})),t.addEventListener("keyup",(e=>{(e.code&&"enter"===e.code.toLowerCase()||e.key&&"enter"===e.key.toLowerCase())&&this.copyToClipboard(t)}))}))}getSocialUrl(t,e){const s=this.getSocialParams(e);let i="";return"twitter"===e&&this.getTwitterText(t),s.forEach((s=>{let n=t.getAttribute(`data-${s}`);"hashtags"===s&&(n=encodeURI(n.replace(/#| /g,""))),n&&(i="facebook"===e?`${i}u=${encodeURIComponent(n)}&`:`${i+s}=${encodeURIComponent(n)}&`)})),"linkedin"===e&&(i=`mini=true&${i}`),`${t.getAttribute("href")}?${i}`}getSocialParams(t){switch(t){case"twitter":this.socialParams=["text","hashtags"];break;case"facebook":case"linkedin":this.socialParams=["url"];break;case"mail":this.socialParams=["subject","body"];break;default:console.log("No social links found")}return this.socialParams}getTwitterText(t){let e=t.getAttribute("data-text");const s=t.getAttribute("data-url")||this.urlLocation,i=t.getAttribute("data-username");e=i?`${e} ${s} via ${i}`:`${e} ${s}`,t.setAttribute("data-text",e),t.removeAttribute("data-url"),t.removeAttribute("data-username")}copyToClipboard(t){if(navigator.clipboard)navigator.clipboard.writeText(this.urlLocation).then((()=>{this.copiedMessage(t)}));else{const e=document.createElement("input");e.setAttribute("value",this.urlLocation),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.copiedMessage(t)}}copiedMessage(t){this.copyElement=t;const e='<span class="material-icons nsw-material-icons" focusable="false" aria-hidden="true">link</span>';this.copyElement.classList.add("copied"),this.copyElement.innerHTML=`${e} Copied`,setTimeout((()=>{this.copyElement.classList.remove("copied"),this.copyElement.innerHTML=`${e} Copy link`}),3e3)}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(this))return null;do{if(e.matches(t))return e;e=e.parentElement}while(null!==e);return null}),t.Accordion=c,t.BackTop=d,t.Carousel=g,t.DatePicker=u,t.Dialog=b,t.ExternalLink=v,t.FileUpload=f,t.Filters=y,t.GlobalAlert=w,t.Navigation=E,t.Popover=kt,t.Select=xt,t.SiteSearch=Lt,t.Tabs=At,t.Toggletip=It,t.Tooltip=Tt,t.UtilityList=$t,t.initSite=function(){const t=document.querySelectorAll(".js-accordion"),e=document.querySelectorAll("button.js-back-to-top"),s=document.querySelectorAll(".js-carousel"),i=document.querySelectorAll("button.js-close-search"),n=document.querySelectorAll(".js-date-input"),o=document.querySelectorAll(".js-dialog"),a=document.querySelectorAll(".js-file-upload"),l=document.querySelectorAll(".js-filters"),r=document.querySelectorAll(".js-global-alert"),h=document.querySelectorAll("a.js-link"),p=document.querySelectorAll(".js-multi-select"),m=document.getElementById("main-nav"),C=document.querySelectorAll("button.js-open-search"),k=document.querySelectorAll(".js-popover"),x=document.querySelectorAll(".js-tabs"),L=document.querySelectorAll(".js-toggletip"),A=document.querySelectorAll(".js-tooltip"),S=document.querySelectorAll(".js-utility-list");t&&t.forEach((t=>{new c(t).init()})),e&&e.forEach((t=>{new d(t).init()})),s&&s.forEach((t=>{new g(t).init()})),i&&i.forEach((t=>{new Lt(t).init()})),n&&n.forEach((t=>{new u(t).init()})),o&&o.forEach((t=>{new b(t).init()})),a&&a.forEach((t=>{new f(t).init()})),l&&l.forEach((t=>{new y(t).init()})),r&&r.forEach((t=>{new w(t).init()})),h&&h.forEach((t=>{new v(t).init()})),p&&p.forEach((t=>{new xt(t).init()})),m&&new E(m).init(),C&&C.forEach((t=>{new Lt(t).init()})),k&&k.forEach((t=>{new kt(t).init()})),x&&x.forEach((t=>{new At(t).init()})),L&&L.forEach((t=>{new It(t).init()})),A&&A.forEach((t=>{new Tt(t).init()})),S&&S.forEach((t=>{new $t(t).init()}))}}));
//# sourceMappingURL=/sm/8a1910eb14175c270a289542921e3d5f108b484b1f83e372957578f20d645d88.map